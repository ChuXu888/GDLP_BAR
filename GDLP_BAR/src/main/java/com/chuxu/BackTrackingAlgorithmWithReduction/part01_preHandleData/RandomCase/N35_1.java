package com.chuxu.BackTrackingAlgorithmWithReduction.part01_preHandleData.RandomCase;

import com.chuxu.entity.Facility;

import java.text.DecimalFormat;
import java.util.Arrays;
import java.util.LinkedHashSet;

public class N35_1 {
    public static int dimension = 35;
    public static final double[] ci =
            {697.0, 530.0, 963.0, 914.0, 610.0, 689.0, 1031.0, 688.0, 898.0, 710.0, 352.0, 1173.0, 707.0, 578.0, 676.0, 895.0, 1157.0, 502.0, 1142.0, 284.0, 279.0, 543.0, 1037.0, 582.0, 714.0, 315.0, 261.0, 807.0, 491.0, 899.0, 705.0, 679.0, 1184.0, 745.0, 1123.0};
    public static final double[] pi =
            {985.0, 267.0, 1155.0, 1149.0, 1011.0, 695.0, 533.0, 491.0, 1040.0, 394.0, 825.0, 618.0, 736.0, 449.0, 279.0, 291.0, 767.0, 712.0, 773.0, 513.0, 970.0, 464.0, 1064.0, 271.0, 1144.0, 913.0, 904.0, 341.0, 249.0, 610.0, 1055.0, 948.0, 362.0, 707.0, 834.0};
    public static final LinkedHashSet<Facility> V = new LinkedHashSet<>();
    public static double[][] disMatrix = {
            {0.00, 137.41, 113.20, 189.62, 99.45, 125.87, 100.82, 157.29, 127.06, 83.42, 178.46, 175.59, 142.76, 173.80, 147.98, 96.13, 85.75, 173.79, 107.99, 148.78, 156.53, 115.98, 109.41, 92.37, 95.79, 178.26, 145.99, 145.59, 104.67, 88.12, 149.05, 136.50, 185.61, 153.48, 176.54},
            {137.41, 0.00, 133.80, 140.11, 108.56, 130.18, 142.24, 121.08, 114.17, 182.82, 96.89, 142.00, 116.07, 89.61, 97.55, 133.80, 183.66, 172.01, 104.62, 172.72, 102.81, 162.88, 91.54, 98.24, 102.86, 83.91, 156.69, 100.29, 196.75, 133.18, 138.94, 98.23, 127.10, 111.11, 96.01},
            {113.20, 133.80, 0.00, 141.54, 97.58, 127.32, 113.98, 193.22, 89.80, 88.80, 158.56, 151.58, 180.55, 171.39, 135.34, 104.82, 162.37, 122.16, 116.32, 195.00, 132.27, 189.32, 93.77, 174.04, 149.57, 89.27, 160.16, 164.31, 132.80, 137.14, 164.37, 169.78, 189.36, 127.47, 99.28},
            {189.62, 140.11, 141.54, 0.00, 81.06, 148.19, 116.00, 94.94, 118.91, 116.71, 161.30, 84.00, 105.06, 127.78, 96.92, 132.39, 158.57, 180.40, 159.79, 88.65, 147.30, 90.33, 120.19, 118.72, 161.02, 192.05, 81.19, 101.12, 91.87, 193.33, 182.41, 158.38, 151.60, 96.77, 173.10},
            {99.45, 108.56, 97.58, 81.06, 0.00, 115.99, 102.56, 189.67, 134.14, 168.82, 170.15, 184.40, 165.91, 137.79, 159.35, 105.83, 181.20, 95.68, 176.60, 150.73, 127.56, 191.25, 160.49, 165.92, 92.41, 84.72, 150.86, 87.87, 137.66, 125.14, 155.53, 175.69, 166.89, 171.78, 87.79},
            {125.87, 130.18, 127.32, 148.19, 115.99, 0.00, 152.97, 168.70, 106.45, 184.70, 170.74, 83.94, 162.91, 97.52, 134.55, 152.70, 91.76, 190.36, 83.29, 188.22, 166.03, 131.69, 165.58, 120.82, 192.24, 135.64, 171.42, 193.47, 106.10, 86.02, 142.67, 94.34, 159.30, 136.02, 145.42},
            {100.82, 142.24, 113.98, 116.00, 102.56, 152.97, 0.00, 157.57, 185.35, 99.71, 120.43, 154.60, 87.45, 199.22, 115.03, 92.00, 80.41, 182.15, 140.29, 190.16, 141.02, 158.82, 152.15, 118.58, 97.91, 127.38, 143.07, 168.96, 141.69, 177.18, 93.03, 116.60, 100.50, 106.78, 164.36},
            {157.29, 121.08, 193.22, 94.94, 189.67, 168.70, 157.57, 0.00, 133.50, 123.29, 182.98, 154.21, 113.08, 84.73, 80.43, 82.08, 107.10, 110.78, 119.10, 86.42, 179.41, 82.72, 157.71, 135.34, 129.06, 170.06, 145.99, 140.77, 187.11, 89.29, 107.44, 103.88, 186.79, 125.27, 96.23},
            {127.06, 114.17, 89.80, 118.91, 134.14, 106.45, 185.35, 133.50, 0.00, 191.23, 165.82, 146.17, 88.22, 107.25, 82.85, 170.38, 145.73, 107.80, 116.34, 145.14, 139.28, 133.02, 144.86, 151.83, 136.89, 184.57, 81.91, 141.76, 82.41, 113.18, 116.26, 128.75, 179.37, 96.78, 110.49},
            {83.42, 182.82, 88.80, 116.71, 168.82, 184.70, 99.71, 123.29, 191.23, 0.00, 81.38, 195.33, 117.95, 195.91, 167.71, 143.79, 171.18, 131.10, 149.25, 167.18, 146.29, 184.41, 118.56, 133.93, 143.95, 157.19, 106.24, 116.29, 102.22, 165.26, 148.10, 92.88, 90.30, 180.00, 82.23},
            {178.46, 96.89, 158.56, 161.30, 170.15, 170.74, 120.43, 182.98, 165.82, 81.38, 0.00, 161.00, 96.26, 178.66, 198.43, 88.53, 80.02, 104.87, 168.50, 103.79, 161.17, 96.07, 166.45, 94.02, 183.19, 113.48, 141.11, 99.31, 181.22, 93.39, 111.54, 148.43, 80.32, 184.99, 196.94},
            {175.59, 142.00, 151.58, 84.00, 184.40, 83.94, 154.60, 154.21, 146.17, 195.33, 161.00, 0.00, 86.71, 144.14, 110.75, 187.81, 133.37, 81.00, 179.02, 134.00, 116.75, 135.14, 196.98, 147.95, 110.76, 105.46, 113.46, 197.81, 134.22, 122.03, 186.53, 95.11, 157.44, 173.13, 180.16},
            {142.76, 116.07, 180.55, 105.06, 165.91, 162.91, 87.45, 113.08, 88.22, 117.95, 96.26, 86.71, 0.00, 125.64, 86.01, 90.73, 187.02, 109.83, 101.93, 92.43, 191.24, 150.15, 175.50, 160.47, 145.26, 128.40, 198.92, 156.10, 99.30, 194.30, 153.46, 97.73, 149.71, 159.73, 86.85},
            {173.80, 89.61, 171.39, 127.78, 137.79, 97.52, 199.22, 84.73, 107.25, 195.91, 178.66, 144.14, 125.64, 0.00, 116.16, 144.20, 119.19, 166.24, 198.32, 157.45, 117.10, 124.19, 102.84, 169.62, 196.56, 191.45, 136.71, 143.49, 131.78, 109.76, 101.59, 82.19, 167.64, 161.81, 91.77},
            {147.98, 97.55, 135.34, 96.92, 159.35, 134.55, 115.03, 80.43, 82.85, 167.71, 198.43, 110.75, 86.01, 116.16, 0.00, 140.51, 85.13, 142.58, 152.49, 96.28, 80.14, 147.41, 88.38, 146.91, 125.83, 126.85, 106.17, 157.32, 125.00, 117.16, 123.80, 151.22, 129.13, 97.30, 80.60},
            {96.13, 133.80, 104.82, 132.39, 105.83, 152.70, 92.00, 82.08, 170.38, 143.79, 88.53, 187.81, 90.73, 144.20, 140.51, 0.00, 126.77, 84.69, 149.56, 198.32, 190.72, 164.65, 90.60, 152.83, 181.47, 114.81, 193.48, 119.18, 152.41, 109.58, 118.15, 129.93, 190.60, 170.53, 189.41},
            {85.75, 183.66, 162.37, 158.57, 181.20, 91.76, 80.41, 107.10, 145.73, 171.18, 80.02, 133.37, 187.02, 119.19, 85.13, 126.77, 0.00, 177.16, 134.13, 173.98, 105.79, 153.46, 103.01, 99.89, 191.50, 104.90, 173.87, 174.83, 175.90, 161.54, 168.04, 175.33, 161.00, 116.29, 105.32},
            {173.79, 172.01, 122.16, 180.40, 95.68, 190.36, 182.15, 110.78, 107.80, 131.10, 104.87, 81.00, 109.83, 166.24, 142.58, 84.69, 177.16, 0.00, 105.65, 117.27, 102.80, 82.71, 185.51, 91.56, 176.08, 87.45, 138.26, 158.39, 186.50, 148.25, 158.83, 196.76, 158.97, 106.22, 143.62},
            {107.99, 104.62, 116.32, 159.79, 176.60, 83.29, 140.29, 119.10, 116.34, 149.25, 168.50, 179.02, 101.93, 198.32, 152.49, 149.56, 134.13, 105.65, 0.00, 149.43, 122.87, 108.97, 180.61, 80.42, 107.36, 136.41, 168.24, 168.44, 178.03, 136.49, 155.48, 160.19, 186.99, 161.40, 93.00},
            {148.78, 172.72, 195.00, 88.65, 150.73, 188.22, 190.16, 86.42, 145.14, 167.18, 103.79, 134.00, 92.43, 157.45, 96.28, 198.32, 173.98, 117.27, 149.43, 0.00, 197.40, 177.76, 172.13, 156.86, 124.74, 89.75, 119.01, 91.15, 143.30, 184.04, 110.65, 115.04, 155.22, 182.73, 111.27},
            {156.53, 102.81, 132.27, 147.30, 127.56, 166.03, 141.02, 179.41, 139.28, 146.29, 161.17, 116.75, 191.24, 117.10, 80.14, 190.72, 105.79, 102.80, 122.87, 197.40, 0.00, 172.02, 189.97, 119.02, 98.11, 145.82, 111.28, 132.95, 166.21, 127.38, 176.00, 80.21, 126.94, 91.20, 192.27},
            {115.98, 162.88, 189.32, 90.33, 191.25, 131.69, 158.82, 82.72, 133.02, 184.41, 96.07, 135.14, 150.15, 124.19, 147.41, 164.65, 153.46, 82.71, 108.97, 177.76, 172.02, 0.00, 126.71, 189.46, 147.00, 84.22, 121.42, 181.19, 114.01, 133.89, 113.11, 173.77, 120.24, 158.31, 103.53},
            {109.41, 91.54, 93.77, 120.19, 160.49, 165.58, 152.15, 157.71, 144.86, 118.56, 166.45, 196.98, 175.50, 102.84, 88.38, 90.60, 103.01, 185.51, 180.61, 172.13, 189.97, 126.71, 0.00, 174.82, 138.11, 151.05, 90.60, 164.41, 110.27, 151.86, 129.25, 156.10, 155.90, 147.10, 166.12},
            {92.37, 98.24, 174.04, 118.72, 165.92, 120.82, 118.58, 135.34, 151.83, 133.93, 94.02, 147.95, 160.47, 169.62, 146.91, 152.83, 99.89, 91.56, 80.42, 156.86, 119.02, 189.46, 174.82, 0.00, 108.35, 197.85, 125.47, 186.30, 81.11, 94.90, 100.10, 105.75, 105.23, 81.06, 197.31},
            {95.79, 102.86, 149.57, 161.02, 92.41, 192.24, 97.91, 129.06, 136.89, 143.95, 183.19, 110.76, 145.26, 196.56, 125.83, 181.47, 191.50, 176.08, 107.36, 124.74, 98.11, 147.00, 138.11, 108.35, 0.00, 172.99, 169.20, 124.99, 126.54, 166.33, 168.06, 168.07, 162.60, 190.57, 123.43},
            {178.26, 83.91, 89.27, 192.05, 84.72, 135.64, 127.38, 170.06, 184.57, 157.19, 113.48, 105.46, 128.40, 191.45, 126.85, 114.81, 104.90, 87.45, 136.41, 89.75, 145.82, 84.22, 151.05, 197.85, 172.99, 0.00, 158.22, 192.98, 107.11, 191.71, 169.36, 167.49, 176.55, 89.02, 82.73},
            {145.99, 156.69, 160.16, 81.19, 150.86, 171.42, 143.07, 145.99, 81.91, 106.24, 141.11, 113.46, 198.92, 136.71, 106.17, 193.48, 173.87, 138.26, 168.24, 119.01, 111.28, 121.42, 90.60, 125.47, 169.20, 158.22, 0.00, 196.04, 150.72, 137.01, 106.31, 172.84, 143.12, 132.69, 142.63},
            {145.59, 100.29, 164.31, 101.12, 87.87, 193.47, 168.96, 140.77, 141.76, 116.29, 99.31, 197.81, 156.10, 143.49, 157.32, 119.18, 174.83, 158.39, 168.44, 91.15, 132.95, 181.19, 164.41, 186.30, 124.99, 192.98, 196.04, 0.00, 81.27, 132.67, 108.58, 162.76, 173.31, 154.97, 95.91},
            {104.67, 196.75, 132.80, 91.87, 137.66, 106.10, 141.69, 187.11, 82.41, 102.22, 181.22, 134.22, 99.30, 131.78, 125.00, 152.41, 175.90, 186.50, 178.03, 143.30, 166.21, 114.01, 110.27, 81.11, 126.54, 107.11, 150.72, 81.27, 0.00, 185.49, 181.38, 188.58, 154.25, 156.34, 167.26},
            {88.12, 133.18, 137.14, 193.33, 125.14, 86.02, 177.18, 89.29, 113.18, 165.26, 93.39, 122.03, 194.30, 109.76, 117.16, 109.58, 161.54, 148.25, 136.49, 184.04, 127.38, 133.89, 151.86, 94.90, 166.33, 191.71, 137.01, 132.67, 185.49, 0.00, 170.80, 144.98, 129.12, 184.20, 118.36},
            {149.05, 138.94, 164.37, 182.41, 155.53, 142.67, 93.03, 107.44, 116.26, 148.10, 111.54, 186.53, 153.46, 101.59, 123.80, 118.15, 168.04, 158.83, 155.48, 110.65, 176.00, 113.11, 129.25, 100.10, 168.06, 169.36, 106.31, 108.58, 181.38, 170.80, 0.00, 124.04, 156.23, 102.93, 142.50},
            {136.50, 98.23, 169.78, 158.38, 175.69, 94.34, 116.60, 103.88, 128.75, 92.88, 148.43, 95.11, 97.73, 82.19, 151.22, 129.93, 175.33, 196.76, 160.19, 115.04, 80.21, 173.77, 156.10, 105.75, 168.07, 167.49, 172.84, 162.76, 188.58, 144.98, 124.04, 0.00, 90.97, 189.50, 90.92},
            {185.61, 127.10, 189.36, 151.60, 166.89, 159.30, 100.50, 186.79, 179.37, 90.30, 80.32, 157.44, 149.71, 167.64, 129.13, 190.60, 161.00, 158.97, 186.99, 155.22, 126.94, 120.24, 155.90, 105.23, 162.60, 176.55, 143.12, 173.31, 154.25, 129.12, 156.23, 90.97, 0.00, 116.62, 196.81},
            {153.48, 111.11, 127.47, 96.77, 171.78, 136.02, 106.78, 125.27, 96.78, 180.00, 184.99, 173.13, 159.73, 161.81, 97.30, 170.53, 116.29, 106.22, 161.40, 182.73, 91.20, 158.31, 147.10, 81.06, 190.57, 89.02, 132.69, 154.97, 156.34, 184.20, 102.93, 189.50, 116.62, 0.00, 84.09},
            {176.54, 96.01, 99.28, 173.10, 87.79, 145.42, 164.36, 96.23, 110.49, 82.23, 196.94, 180.16, 86.85, 91.77, 80.60, 189.41, 105.32, 143.62, 93.00, 111.27, 192.27, 103.53, 166.12, 197.31, 123.43, 82.73, 142.63, 95.91, 167.26, 118.36, 142.50, 90.92, 196.81, 84.09, 0.00},
    };
    public static final double φp = 0.3;  //本例中都取0.2是会得到性质7疯狂降阶的情况，然后通过性质4直接得到了最优解
    public static final double φc = 0.3;
    public static double P;
    public static double C;

    public static void main(String[] args) {
        preHandle();
    }

    public static void preHandle() {
        DecimalFormat decimalFormat = new DecimalFormat("#.00");
        P = Arrays.stream(pi).reduce(0.0, Double::sum) * φp;
        C = Arrays.stream(ci).reduce(0.0, Double::sum) * φc;
        P = Double.parseDouble(decimalFormat.format(P));
        C = Double.parseDouble(decimalFormat.format(C));
        System.out.println("P = " + P);
        System.out.println("C = " + C);
        for (int i = 0; i < pi.length; i++) {
            V.add(new Facility(i + 1, ci[i], pi[i], pi[i] / ci[i]));
        }
    }
}
