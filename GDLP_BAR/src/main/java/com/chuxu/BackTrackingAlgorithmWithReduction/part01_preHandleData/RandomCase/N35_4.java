package com.chuxu.BackTrackingAlgorithmWithReduction.part01_preHandleData.RandomCase;

import com.chuxu.entity.Facility;

import java.text.DecimalFormat;
import java.util.Arrays;
import java.util.LinkedHashSet;

public class N35_4 {
    public static int dimension = 35;
    public static final double[] ci =
            {321.0, 629.0, 633.0, 755.0, 821.0, 710.0, 676.0, 875.0, 991.0, 1184.0, 1016.0, 621.0, 574.0, 1058.0, 238.0, 239.0, 911.0, 202.0, 538.0, 640.0, 909.0, 1027.0, 322.0, 460.0, 672.0, 838.0, 486.0, 439.0, 335.0, 395.0, 1039.0, 1182.0, 1064.0, 1070.0, 513.0};
    public static final double[] pi =
            {278.0, 1196.0, 626.0, 1131.0, 268.0, 915.0, 1019.0, 204.0, 466.0, 1188.0, 338.0, 1182.0, 448.0, 1109.0, 871.0, 407.0, 734.0, 429.0, 1026.0, 430.0, 590.0, 482.0, 438.0, 684.0, 740.0, 777.0, 697.0, 366.0, 269.0, 1070.0, 410.0, 960.0, 835.0, 1191.0, 1098.0};
    public static final LinkedHashSet<Facility> V = new LinkedHashSet<>();
    public static double[][] disMatrix = {
            {0.00, 162.96, 106.64, 85.53, 103.02, 100.43, 86.65, 81.94, 112.37, 166.20, 82.74, 134.87, 120.74, 86.19, 121.63, 135.04, 143.99, 189.59, 124.60, 80.63, 109.65, 162.79, 157.94, 126.89, 131.89, 184.95, 86.19, 91.83, 195.34, 127.32, 112.83, 91.94, 171.88, 140.75, 188.00},
            {162.96, 0.00, 196.42, 156.20, 132.27, 81.22, 196.81, 111.42, 101.78, 99.63, 110.53, 125.19, 193.70, 138.04, 152.91, 149.57, 136.15, 137.08, 181.71, 174.88, 91.34, 99.32, 161.16, 87.83, 186.45, 90.23, 89.99, 188.71, 92.45, 172.43, 168.03, 90.09, 131.75, 105.93, 141.20},
            {106.64, 196.42, 0.00, 131.46, 81.11, 95.97, 122.18, 199.36, 177.08, 162.31, 176.72, 141.90, 104.62, 159.74, 110.83, 89.56, 157.27, 99.58, 153.79, 140.59, 98.88, 85.30, 125.14, 80.09, 91.64, 162.91, 120.75, 115.75, 184.24, 177.56, 193.82, 151.29, 156.56, 122.88, 101.30},
            {85.53, 156.20, 131.46, 0.00, 120.31, 193.74, 187.91, 94.13, 88.70, 192.30, 108.90, 192.09, 122.87, 125.36, 119.31, 159.53, 194.10, 91.04, 81.07, 127.76, 125.83, 120.01, 153.81, 173.27, 111.35, 162.84, 176.00, 117.76, 153.36, 157.03, 153.03, 86.93, 184.87, 126.02, 112.06},
            {103.02, 132.27, 81.11, 120.31, 0.00, 109.09, 102.48, 168.80, 171.99, 93.41, 198.87, 199.01, 189.39, 179.17, 199.91, 106.30, 96.82, 133.34, 95.27, 120.06, 90.43, 113.22, 197.92, 117.35, 146.74, 144.28, 98.13, 111.80, 116.06, 90.05, 152.05, 189.08, 170.96, 111.87, 102.80},
            {100.43, 81.22, 95.97, 193.74, 109.09, 0.00, 157.22, 163.17, 110.82, 133.54, 196.55, 140.66, 92.14, 137.58, 103.77, 178.92, 154.80, 99.73, 129.10, 186.87, 164.26, 135.93, 142.42, 97.15, 196.34, 95.08, 176.26, 124.43, 182.86, 167.14, 158.27, 172.60, 87.37, 146.03, 144.77},
            {86.65, 196.81, 122.18, 187.91, 102.48, 157.22, 0.00, 112.68, 189.23, 143.56, 199.57, 138.20, 179.59, 82.50, 108.69, 173.28, 90.50, 92.16, 141.67, 80.98, 110.54, 149.11, 144.00, 155.58, 126.23, 188.62, 132.85, 82.10, 167.83, 179.03, 149.72, 90.17, 191.34, 141.69, 198.55},
            {81.94, 111.42, 199.36, 94.13, 168.80, 163.17, 112.68, 0.00, 136.42, 195.71, 173.40, 187.01, 180.84, 194.81, 185.96, 170.85, 97.10, 158.23, 119.44, 118.16, 195.68, 183.37, 90.95, 179.86, 140.71, 143.14, 149.98, 117.10, 87.58, 189.26, 184.41, 173.72, 118.28, 140.88, 137.60},
            {112.37, 101.78, 177.08, 88.70, 171.99, 110.82, 189.23, 136.42, 0.00, 173.08, 104.69, 151.33, 137.99, 84.03, 147.78, 82.68, 126.21, 99.43, 121.29, 168.86, 173.04, 123.28, 153.56, 172.24, 153.13, 148.95, 109.63, 177.06, 134.64, 131.11, 168.08, 134.95, 84.54, 87.70, 102.99},
            {166.20, 99.63, 162.31, 192.30, 93.41, 133.54, 143.56, 195.71, 173.08, 0.00, 83.60, 191.75, 156.10, 121.51, 119.06, 117.39, 128.91, 190.65, 115.47, 111.57, 169.78, 154.68, 132.97, 110.59, 198.81, 155.16, 195.23, 85.92, 199.56, 120.76, 92.76, 138.62, 155.90, 192.32, 195.93},
            {82.74, 110.53, 176.72, 108.90, 198.87, 196.55, 199.57, 173.40, 104.69, 83.60, 0.00, 117.69, 157.41, 91.16, 184.33, 130.38, 135.58, 104.41, 193.98, 165.39, 110.84, 111.24, 194.27, 86.33, 101.78, 147.16, 109.07, 153.64, 93.06, 121.09, 93.73, 116.87, 117.28, 140.80, 190.54},
            {134.87, 125.19, 141.90, 192.09, 199.01, 140.66, 138.20, 187.01, 151.33, 191.75, 117.69, 0.00, 187.64, 138.92, 147.08, 109.42, 174.90, 114.48, 85.85, 119.14, 139.63, 183.45, 179.38, 106.10, 105.61, 138.31, 153.94, 163.71, 85.18, 89.57, 141.24, 174.67, 186.36, 143.04, 114.20},
            {120.74, 193.70, 104.62, 122.87, 189.39, 92.14, 179.59, 180.84, 137.99, 156.10, 157.41, 187.64, 0.00, 181.78, 97.42, 101.90, 145.20, 150.07, 199.70, 134.68, 85.78, 83.37, 97.11, 133.20, 181.87, 133.37, 152.48, 160.66, 96.76, 127.27, 126.50, 160.24, 96.74, 162.00, 143.95},
            {86.19, 138.04, 159.74, 125.36, 179.17, 137.58, 82.50, 194.81, 84.03, 121.51, 91.16, 138.92, 181.78, 0.00, 158.57, 160.13, 168.95, 124.99, 195.82, 140.37, 82.57, 155.98, 185.69, 87.21, 129.28, 114.56, 133.67, 127.62, 110.43, 88.18, 140.84, 88.90, 143.44, 172.88, 152.87},
            {121.63, 152.91, 110.83, 119.31, 199.91, 103.77, 108.69, 185.96, 147.78, 119.06, 184.33, 147.08, 97.42, 158.57, 0.00, 191.19, 190.13, 151.03, 160.64, 125.47, 199.04, 82.14, 118.63, 145.06, 141.04, 199.88, 141.45, 195.03, 182.80, 131.56, 166.05, 143.32, 82.43, 102.92, 109.11},
            {135.04, 149.57, 89.56, 159.53, 106.30, 178.92, 173.28, 170.85, 82.68, 117.39, 130.38, 109.42, 101.90, 160.13, 191.19, 0.00, 181.49, 84.99, 141.48, 123.60, 189.71, 182.04, 145.95, 187.91, 192.18, 140.81, 167.07, 143.12, 163.54, 122.53, 146.99, 150.70, 185.81, 117.95, 129.62},
            {143.99, 136.15, 157.27, 194.10, 96.82, 154.80, 90.50, 97.10, 126.21, 128.91, 135.58, 174.90, 145.20, 168.95, 190.13, 181.49, 0.00, 132.88, 137.26, 150.02, 183.74, 121.71, 121.12, 109.52, 93.36, 180.67, 191.34, 198.74, 106.74, 193.92, 86.76, 181.68, 175.73, 103.36, 161.74},
            {189.59, 137.08, 99.58, 91.04, 133.34, 99.73, 92.16, 158.23, 99.43, 190.65, 104.41, 114.48, 150.07, 124.99, 151.03, 84.99, 132.88, 0.00, 96.33, 81.31, 112.64, 142.83, 95.02, 189.22, 129.88, 145.60, 163.70, 111.18, 87.01, 114.49, 109.00, 102.58, 194.21, 100.54, 113.88},
            {124.60, 181.71, 153.79, 81.07, 95.27, 129.10, 141.67, 119.44, 121.29, 115.47, 193.98, 85.85, 199.70, 195.82, 160.64, 141.48, 137.26, 96.33, 0.00, 126.84, 101.17, 88.33, 188.74, 159.45, 145.16, 142.99, 183.95, 91.43, 166.78, 111.62, 123.24, 122.36, 89.60, 181.16, 184.39},
            {80.63, 174.88, 140.59, 127.76, 120.06, 186.87, 80.98, 118.16, 168.86, 111.57, 165.39, 119.14, 134.68, 140.37, 125.47, 123.60, 150.02, 81.31, 126.84, 0.00, 87.35, 148.71, 145.25, 94.28, 140.15, 115.90, 188.00, 99.92, 136.44, 105.40, 150.63, 185.34, 126.59, 114.33, 169.66},
            {109.65, 91.34, 98.88, 125.83, 90.43, 164.26, 110.54, 195.68, 173.04, 169.78, 110.84, 139.63, 85.78, 82.57, 199.04, 189.71, 183.74, 112.64, 101.17, 87.35, 0.00, 146.19, 136.59, 195.93, 101.06, 109.59, 88.37, 81.06, 114.87, 136.43, 88.05, 195.16, 98.04, 106.27, 150.32},
            {162.79, 99.32, 85.30, 120.01, 113.22, 135.93, 149.11, 183.37, 123.28, 154.68, 111.24, 183.45, 83.37, 155.98, 82.14, 182.04, 121.71, 142.83, 88.33, 148.71, 146.19, 0.00, 122.50, 120.85, 82.37, 92.09, 128.98, 83.06, 144.70, 135.84, 126.80, 81.02, 143.61, 115.19, 91.18},
            {157.94, 161.16, 125.14, 153.81, 197.92, 142.42, 144.00, 90.95, 153.56, 132.97, 194.27, 179.38, 97.11, 185.69, 118.63, 145.95, 121.12, 95.02, 188.74, 145.25, 136.59, 122.50, 0.00, 105.20, 124.99, 150.54, 179.05, 150.17, 109.55, 141.60, 93.72, 95.11, 194.89, 167.01, 187.07},
            {126.89, 87.83, 80.09, 173.27, 117.35, 97.15, 155.58, 179.86, 172.24, 110.59, 86.33, 106.10, 133.20, 87.21, 145.06, 187.91, 109.52, 189.22, 159.45, 94.28, 195.93, 120.85, 105.20, 0.00, 112.39, 188.36, 167.34, 112.15, 165.87, 91.83, 118.78, 94.36, 127.35, 106.93, 118.55},
            {131.89, 186.45, 91.64, 111.35, 146.74, 196.34, 126.23, 140.71, 153.13, 198.81, 101.78, 105.61, 181.87, 129.28, 141.04, 192.18, 93.36, 129.88, 145.16, 140.15, 101.06, 82.37, 124.99, 112.39, 0.00, 157.88, 91.03, 169.38, 121.28, 167.12, 80.37, 156.21, 167.15, 118.96, 120.52},
            {184.95, 90.23, 162.91, 162.84, 144.28, 95.08, 188.62, 143.14, 148.95, 155.16, 147.16, 138.31, 133.37, 114.56, 199.88, 140.81, 180.67, 145.60, 142.99, 115.90, 109.59, 92.09, 150.54, 188.36, 157.88, 0.00, 197.45, 107.97, 151.78, 191.69, 166.02, 146.84, 101.22, 164.74, 95.37},
            {86.19, 89.99, 120.75, 176.00, 98.13, 176.26, 132.85, 149.98, 109.63, 195.23, 109.07, 153.94, 152.48, 133.67, 141.45, 167.07, 191.34, 163.70, 183.95, 188.00, 88.37, 128.98, 179.05, 167.34, 91.03, 197.45, 0.00, 119.44, 90.08, 170.50, 103.70, 162.34, 111.33, 167.32, 187.08},
            {91.83, 188.71, 115.75, 117.76, 111.80, 124.43, 82.10, 117.10, 177.06, 85.92, 153.64, 163.71, 160.66, 127.62, 195.03, 143.12, 198.74, 111.18, 91.43, 99.92, 81.06, 83.06, 150.17, 112.15, 169.38, 107.97, 119.44, 0.00, 113.51, 88.12, 109.13, 140.65, 194.87, 113.64, 197.12},
            {195.34, 92.45, 184.24, 153.36, 116.06, 182.86, 167.83, 87.58, 134.64, 199.56, 93.06, 85.18, 96.76, 110.43, 182.80, 163.54, 106.74, 87.01, 166.78, 136.44, 114.87, 144.70, 109.55, 165.87, 121.28, 151.78, 90.08, 113.51, 0.00, 157.68, 114.35, 86.37, 102.90, 101.16, 136.83},
            {127.32, 172.43, 177.56, 157.03, 90.05, 167.14, 179.03, 189.26, 131.11, 120.76, 121.09, 89.57, 127.27, 88.18, 131.56, 122.53, 193.92, 114.49, 111.62, 105.40, 136.43, 135.84, 141.60, 91.83, 167.12, 191.69, 170.50, 88.12, 157.68, 0.00, 82.44, 139.81, 120.45, 108.51, 107.12},
            {112.83, 168.03, 193.82, 153.03, 152.05, 158.27, 149.72, 184.41, 168.08, 92.76, 93.73, 141.24, 126.50, 140.84, 166.05, 146.99, 86.76, 109.00, 123.24, 150.63, 88.05, 126.80, 93.72, 118.78, 80.37, 166.02, 103.70, 109.13, 114.35, 82.44, 0.00, 171.07, 157.57, 158.70, 181.31},
            {91.94, 90.09, 151.29, 86.93, 189.08, 172.60, 90.17, 173.72, 134.95, 138.62, 116.87, 174.67, 160.24, 88.90, 143.32, 150.70, 181.68, 102.58, 122.36, 185.34, 195.16, 81.02, 95.11, 94.36, 156.21, 146.84, 162.34, 140.65, 86.37, 139.81, 171.07, 0.00, 99.60, 153.78, 85.82},
            {171.88, 131.75, 156.56, 184.87, 170.96, 87.37, 191.34, 118.28, 84.54, 155.90, 117.28, 186.36, 96.74, 143.44, 82.43, 185.81, 175.73, 194.21, 89.60, 126.59, 98.04, 143.61, 194.89, 127.35, 167.15, 101.22, 111.33, 194.87, 102.90, 120.45, 157.57, 99.60, 0.00, 166.24, 164.40},
            {140.75, 105.93, 122.88, 126.02, 111.87, 146.03, 141.69, 140.88, 87.70, 192.32, 140.80, 143.04, 162.00, 172.88, 102.92, 117.95, 103.36, 100.54, 181.16, 114.33, 106.27, 115.19, 167.01, 106.93, 118.96, 164.74, 167.32, 113.64, 101.16, 108.51, 158.70, 153.78, 166.24, 0.00, 106.08},
            {188.00, 141.20, 101.30, 112.06, 102.80, 144.77, 198.55, 137.60, 102.99, 195.93, 190.54, 114.20, 143.95, 152.87, 109.11, 129.62, 161.74, 113.88, 184.39, 169.66, 150.32, 91.18, 187.07, 118.55, 120.52, 95.37, 187.08, 197.12, 136.83, 107.12, 181.31, 85.82, 164.40, 106.08, 0.00},
    };
    public static final double φp = 0.3;  //本例中都取0.2是会得到性质7疯狂降阶的情况，然后通过性质4直接得到了最优解
    public static final double φc = 0.3;
    public static double P;
    public static double C;

    public static void main(String[] args) {
        preHandle();
    }

    public static void preHandle() {
        DecimalFormat decimalFormat = new DecimalFormat("#.00");
        P = Arrays.stream(pi).reduce(0.0, Double::sum) * φp;
        C = Arrays.stream(ci).reduce(0.0, Double::sum) * φc;
        P = Double.parseDouble(decimalFormat.format(P));
        C = Double.parseDouble(decimalFormat.format(C));
        System.out.println("P = " + P);
        System.out.println("C = " + C);
        for (int i = 0; i < pi.length; i++) {
            V.add(new Facility(i + 1, ci[i], pi[i], pi[i] / ci[i]));
        }
    }
}
