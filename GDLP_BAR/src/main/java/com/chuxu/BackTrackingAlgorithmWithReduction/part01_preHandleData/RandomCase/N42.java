package com.chuxu.BackTrackingAlgorithmWithReduction.part01_preHandleData.RandomCase;

import com.chuxu.entity.Facility;

import java.text.DecimalFormat;
import java.util.Arrays;
import java.util.LinkedHashSet;

public class N42 {
    public static int dimension = 42;
    public static final double[] ci =
            {475.0, 468.0, 1105.0, 344.0, 1158.0, 1100.0, 926.0, 504.0, 1026.0, 1064.0, 912.0, 1017.0, 360.0, 457.0, 589.0, 856.0, 1127.0, 918.0, 841.0, 891.0, 532.0, 597.0, 263.0, 689.0, 961.0, 337.0, 541.0, 318.0, 408.0, 610.0, 419.0, 1157.0, 887.0, 866.0, 745.0, 958.0, 364.0, 740.0, 526.0, 911.0, 856.0, 469.0};
    public static final double[] pi =
            {1090.0, 414.0, 924.0, 338.0, 273.0, 1067.0, 961.0, 626.0, 433.0, 1060.0, 1123.0, 1163.0, 559.0, 292.0, 536.0, 1178.0, 457.0, 464.0, 590.0, 715.0, 1150.0, 1077.0, 710.0, 502.0, 682.0, 749.0, 660.0, 1149.0, 350.0, 435.0, 932.0, 723.0, 963.0, 1178.0, 951.0, 565.0, 576.0, 809.0, 523.0, 604.0, 327.0, 1049.0};
    public static final LinkedHashSet<Facility> V = new LinkedHashSet<>();
    public static double[][] disMatrix = {
            {0.00, 91.09, 178.12, 185.84, 130.04, 81.33, 144.72, 197.43, 126.83, 174.93, 156.25, 165.63, 147.40, 117.10, 113.70, 80.44, 120.16, 159.05, 113.59, 191.96, 95.79, 174.49, 97.12, 92.31, 157.71, 144.08, 120.03, 197.32, 166.69, 96.33, 93.24, 199.45, 97.41, 153.07, 130.69, 144.89, 128.42, 80.64, 191.58, 82.96, 94.05, 135.17},
            {91.09, 0.00, 118.06, 104.54, 157.99, 90.87, 167.72, 149.30, 103.14, 114.77, 121.43, 97.38, 130.70, 159.85, 173.12, 91.68, 163.92, 190.02, 116.59, 80.62, 157.99, 106.61, 157.99, 188.78, 187.14, 115.24, 118.85, 114.42, 154.00, 95.30, 135.17, 117.67, 163.00, 151.22, 122.27, 182.46, 81.27, 135.49, 182.93, 167.45, 174.72, 97.79},
            {178.12, 118.06, 0.00, 108.09, 127.92, 156.07, 133.01, 194.81, 170.52, 113.31, 172.72, 145.36, 196.66, 83.88, 90.53, 134.27, 138.07, 98.83, 111.31, 156.71, 189.22, 145.42, 87.20, 142.28, 136.59, 123.75, 90.83, 152.18, 173.51, 143.68, 176.39, 115.75, 92.06, 103.89, 153.99, 84.23, 99.68, 172.54, 131.00, 84.72, 118.52, 112.25},
            {185.84, 104.54, 108.09, 0.00, 115.76, 186.71, 129.11, 117.29, 195.29, 106.43, 197.87, 121.40, 167.60, 170.89, 159.14, 107.70, 192.69, 104.05, 107.49, 169.76, 143.54, 121.49, 175.25, 93.87, 128.56, 108.21, 162.37, 97.24, 122.11, 85.61, 92.44, 105.60, 177.41, 189.17, 128.67, 185.85, 148.49, 177.68, 177.49, 145.53, 133.49, 117.64},
            {130.04, 157.99, 127.92, 115.76, 0.00, 175.14, 110.59, 130.97, 173.19, 173.86, 136.66, 114.28, 142.30, 199.45, 116.13, 156.11, 114.37, 80.98, 134.58, 135.78, 101.85, 135.79, 84.78, 176.64, 120.70, 169.51, 85.06, 169.08, 119.61, 160.79, 111.26, 96.45, 147.11, 124.45, 117.32, 157.34, 158.76, 104.23, 109.61, 106.78, 103.14, 117.74},
            {81.33, 90.87, 156.07, 186.71, 175.14, 0.00, 113.48, 102.31, 185.96, 161.42, 87.83, 197.96, 175.63, 162.04, 84.72, 119.72, 81.53, 113.89, 115.63, 80.77, 148.27, 127.49, 154.57, 152.78, 144.01, 175.11, 120.84, 181.79, 140.78, 193.11, 179.74, 142.83, 187.17, 127.96, 159.92, 86.79, 180.68, 94.59, 149.15, 166.62, 177.39, 170.79},
            {144.72, 167.72, 133.01, 129.11, 110.59, 113.48, 0.00, 157.96, 196.58, 130.75, 120.12, 131.35, 199.22, 109.37, 198.52, 183.78, 149.31, 85.06, 116.10, 131.09, 151.85, 88.21, 155.79, 195.47, 193.69, 176.46, 114.33, 125.30, 143.88, 175.65, 168.70, 141.97, 87.10, 88.73, 102.51, 98.98, 158.26, 188.74, 151.91, 135.97, 82.96, 156.12},
            {197.43, 149.30, 194.81, 117.29, 130.97, 102.31, 157.96, 0.00, 89.59, 171.62, 179.38, 148.57, 177.81, 83.83, 81.63, 83.35, 87.99, 94.41, 142.93, 187.30, 164.52, 107.76, 128.83, 109.11, 144.04, 188.83, 136.59, 191.28, 109.38, 125.95, 196.06, 105.85, 98.63, 187.09, 121.11, 88.37, 84.67, 105.93, 87.05, 179.02, 109.77, 144.83},
            {126.83, 103.14, 170.52, 195.29, 173.19, 185.96, 196.58, 89.59, 0.00, 150.79, 157.27, 82.26, 136.73, 104.58, 118.60, 118.54, 186.60, 182.62, 166.98, 184.04, 95.27, 141.78, 125.93, 190.51, 194.56, 153.34, 144.27, 124.58, 152.51, 172.26, 108.81, 94.01, 100.90, 193.65, 197.18, 103.03, 154.74, 103.16, 147.86, 107.22, 154.37, 158.70},
            {174.93, 114.77, 113.31, 106.43, 173.86, 161.42, 130.75, 171.62, 150.79, 0.00, 92.46, 170.79, 145.53, 105.41, 87.08, 155.64, 81.54, 84.14, 154.93, 111.69, 123.80, 165.42, 191.52, 171.70, 173.06, 87.02, 166.83, 81.56, 163.52, 152.37, 165.24, 158.36, 155.61, 180.54, 174.98, 143.64, 130.39, 165.38, 92.22, 148.12, 139.74, 142.17},
            {156.25, 121.43, 172.72, 197.87, 136.66, 87.83, 120.12, 179.38, 157.27, 92.46, 0.00, 183.80, 106.77, 181.10, 114.74, 173.43, 159.52, 164.39, 84.06, 182.17, 143.00, 140.61, 161.44, 122.98, 162.55, 168.26, 125.20, 182.04, 171.33, 82.82, 189.16, 196.25, 94.87, 88.72, 114.39, 96.84, 104.28, 150.21, 113.05, 92.98, 120.48, 178.53},
            {165.63, 97.38, 145.36, 121.40, 114.28, 197.96, 131.35, 148.57, 82.26, 170.79, 183.80, 0.00, 143.32, 157.53, 84.10, 197.92, 99.45, 168.35, 152.55, 101.10, 98.92, 194.45, 105.21, 117.66, 160.68, 175.03, 92.25, 194.42, 134.30, 102.76, 129.70, 166.92, 179.35, 149.02, 105.05, 164.50, 127.37, 119.50, 152.54, 179.09, 126.16, 162.46},
            {147.40, 130.70, 196.66, 167.60, 142.30, 175.63, 199.22, 177.81, 136.73, 145.53, 106.77, 143.32, 0.00, 166.51, 98.44, 186.42, 170.29, 183.28, 159.76, 145.61, 136.18, 179.07, 197.89, 91.95, 93.58, 140.85, 124.83, 93.62, 95.11, 191.59, 103.14, 153.78, 180.41, 168.34, 185.80, 181.60, 199.44, 163.48, 148.49, 112.92, 177.71, 104.29},
            {117.10, 159.85, 83.88, 170.89, 199.45, 162.04, 109.37, 83.83, 104.58, 105.41, 181.10, 157.53, 166.51, 0.00, 117.74, 90.79, 154.54, 184.91, 199.22, 187.16, 93.05, 117.41, 195.45, 191.43, 152.51, 175.12, 150.74, 109.73, 168.84, 101.28, 193.21, 130.81, 128.53, 150.26, 80.34, 80.31, 183.93, 135.82, 193.60, 164.42, 144.72, 142.65},
            {113.70, 173.12, 90.53, 159.14, 116.13, 84.72, 198.52, 81.63, 118.60, 87.08, 114.74, 84.10, 98.44, 117.74, 0.00, 111.99, 137.45, 190.61, 152.25, 160.93, 194.52, 184.73, 83.16, 84.70, 131.74, 144.92, 88.30, 184.66, 150.19, 191.83, 108.33, 104.89, 108.88, 118.31, 170.25, 88.32, 93.23, 133.57, 104.11, 93.26, 101.94, 168.58},
            {80.44, 91.68, 134.27, 107.70, 156.11, 119.72, 183.78, 83.35, 118.54, 155.64, 173.43, 197.92, 186.42, 90.79, 111.99, 0.00, 148.68, 129.42, 144.08, 146.00, 87.77, 186.55, 161.96, 178.07, 184.58, 105.74, 111.90, 120.34, 179.84, 164.77, 166.12, 117.02, 112.48, 93.58, 183.15, 165.09, 147.68, 184.33, 172.74, 140.25, 197.43, 193.34},
            {120.16, 163.92, 138.07, 192.69, 114.37, 81.53, 149.31, 87.99, 186.60, 81.54, 159.52, 99.45, 170.29, 154.54, 137.45, 148.68, 0.00, 92.83, 166.58, 92.52, 87.45, 82.33, 194.84, 172.49, 167.99, 112.57, 180.99, 161.55, 108.47, 153.79, 167.08, 93.40, 129.76, 139.84, 180.58, 196.93, 187.41, 115.17, 186.40, 97.30, 100.68, 162.50},
            {159.05, 190.02, 98.83, 104.05, 80.98, 113.89, 85.06, 94.41, 182.62, 84.14, 164.39, 168.35, 183.28, 184.91, 190.61, 129.42, 92.83, 0.00, 107.38, 143.31, 171.30, 158.05, 134.48, 142.03, 142.37, 122.86, 137.15, 145.64, 93.77, 174.86, 197.26, 112.86, 140.48, 115.50, 126.55, 138.99, 113.29, 108.24, 128.12, 113.34, 159.39, 83.06},
            {113.59, 116.59, 111.31, 107.49, 134.58, 115.63, 116.10, 142.93, 166.98, 154.93, 84.06, 152.55, 159.76, 199.22, 152.25, 144.08, 166.58, 107.38, 0.00, 126.65, 82.10, 80.59, 111.85, 199.86, 186.94, 152.49, 124.28, 155.52, 96.31, 175.75, 91.62, 133.72, 186.27, 123.64, 158.37, 93.15, 161.74, 125.37, 146.86, 123.36, 176.57, 185.19},
            {191.96, 80.62, 156.71, 169.76, 135.78, 80.77, 131.09, 187.30, 184.04, 111.69, 182.17, 101.10, 145.61, 187.16, 160.93, 146.00, 92.52, 143.31, 126.65, 0.00, 120.06, 111.35, 132.25, 180.28, 100.31, 181.53, 110.13, 108.04, 89.52, 161.90, 141.04, 104.37, 176.41, 187.81, 178.50, 149.29, 151.30, 195.68, 178.58, 134.88, 117.02, 165.01},
            {95.79, 157.99, 189.22, 143.54, 101.85, 148.27, 151.85, 164.52, 95.27, 123.80, 143.00, 98.92, 136.18, 93.05, 194.52, 87.77, 87.45, 171.30, 82.10, 120.06, 0.00, 159.01, 172.81, 166.57, 175.92, 174.52, 104.66, 173.78, 102.43, 182.56, 108.32, 152.93, 178.46, 145.39, 146.91, 126.31, 113.84, 99.14, 144.40, 195.84, 181.92, 119.75},
            {174.49, 106.61, 145.42, 121.49, 135.79, 127.49, 88.21, 107.76, 141.78, 165.42, 140.61, 194.45, 179.07, 117.41, 184.73, 186.55, 82.33, 158.05, 80.59, 111.35, 159.01, 0.00, 192.82, 185.52, 188.18, 168.03, 160.89, 166.08, 140.96, 182.56, 182.60, 111.24, 141.00, 189.25, 96.16, 147.34, 125.34, 170.35, 180.38, 103.34, 164.49, 103.00},
            {97.12, 157.99, 87.20, 175.25, 84.78, 154.57, 155.79, 128.83, 125.93, 191.52, 161.44, 105.21, 197.89, 195.45, 83.16, 161.96, 194.84, 134.48, 111.85, 132.25, 172.81, 192.82, 0.00, 94.73, 108.21, 97.95, 139.20, 93.40, 95.59, 124.18, 193.90, 150.67, 142.73, 134.68, 116.86, 166.03, 111.51, 100.26, 146.62, 192.36, 113.79, 119.09},
            {92.31, 188.78, 142.28, 93.87, 176.64, 152.78, 195.47, 109.11, 190.51, 171.70, 122.98, 117.66, 91.95, 191.43, 84.70, 178.07, 172.49, 142.03, 199.86, 180.28, 166.57, 185.52, 94.73, 0.00, 81.09, 89.02, 171.41, 141.38, 189.72, 143.86, 83.61, 134.98, 175.67, 114.49, 189.75, 109.07, 154.38, 128.62, 185.37, 169.58, 126.02, 157.15},
            {157.71, 187.14, 136.59, 128.56, 120.70, 144.01, 193.69, 144.04, 194.56, 173.06, 162.55, 160.68, 93.58, 152.51, 131.74, 184.58, 167.99, 142.37, 186.94, 100.31, 175.92, 188.18, 108.21, 81.09, 0.00, 92.21, 160.65, 104.70, 170.80, 180.43, 170.60, 85.90, 92.12, 171.52, 168.57, 106.38, 99.76, 175.17, 89.97, 137.19, 169.96, 171.44},
            {144.08, 115.24, 123.75, 108.21, 169.51, 175.11, 176.46, 188.83, 153.34, 87.02, 168.26, 175.03, 140.85, 175.12, 144.92, 105.74, 112.57, 122.86, 152.49, 181.53, 174.52, 168.03, 97.95, 89.02, 92.21, 0.00, 124.21, 90.41, 153.20, 161.77, 177.17, 134.22, 139.25, 177.87, 124.14, 198.51, 164.35, 157.14, 135.31, 174.51, 137.27, 186.60},
            {120.03, 118.85, 90.83, 162.37, 85.06, 120.84, 114.33, 136.59, 144.27, 166.83, 125.20, 92.25, 124.83, 150.74, 88.30, 111.90, 180.99, 137.15, 124.28, 110.13, 104.66, 160.89, 139.20, 171.41, 160.65, 124.21, 0.00, 126.64, 107.14, 168.71, 104.14, 102.74, 87.65, 199.22, 166.67, 176.72, 176.60, 135.89, 169.45, 93.33, 83.88, 186.45},
            {197.32, 114.42, 152.18, 97.24, 169.08, 181.79, 125.30, 191.28, 124.58, 81.56, 182.04, 194.42, 93.62, 109.73, 184.66, 120.34, 161.55, 145.64, 155.52, 108.04, 173.78, 166.08, 93.40, 141.38, 104.70, 90.41, 126.64, 0.00, 188.71, 147.33, 102.14, 161.83, 182.18, 198.19, 174.35, 164.16, 97.39, 114.93, 133.62, 87.11, 107.48, 162.02},
            {166.69, 154.00, 173.51, 122.11, 119.61, 140.78, 143.88, 109.38, 152.51, 163.52, 171.33, 134.30, 95.11, 168.84, 150.19, 179.84, 108.47, 93.77, 96.31, 89.52, 102.43, 140.96, 95.59, 189.72, 170.80, 153.20, 107.14, 188.71, 0.00, 84.48, 89.06, 157.28, 117.23, 120.66, 176.60, 119.43, 96.84, 92.39, 97.45, 171.26, 111.30, 189.72},
            {96.33, 95.30, 143.68, 85.61, 160.79, 193.11, 175.65, 125.95, 172.26, 152.37, 82.82, 102.76, 191.59, 101.28, 191.83, 164.77, 153.79, 174.86, 175.75, 161.90, 182.56, 182.56, 124.18, 143.86, 180.43, 161.77, 168.71, 147.33, 84.48, 0.00, 86.04, 187.29, 166.31, 133.97, 194.18, 120.77, 139.68, 170.11, 91.01, 199.50, 103.31, 186.39},
            {93.24, 135.17, 176.39, 92.44, 111.26, 179.74, 168.70, 196.06, 108.81, 165.24, 189.16, 129.70, 103.14, 193.21, 108.33, 166.12, 167.08, 197.26, 91.62, 141.04, 108.32, 182.60, 193.90, 83.61, 170.60, 177.17, 104.14, 102.14, 89.06, 86.04, 0.00, 92.95, 127.01, 142.83, 195.38, 183.72, 119.50, 174.05, 171.70, 108.49, 82.49, 85.58},
            {199.45, 117.67, 115.75, 105.60, 96.45, 142.83, 141.97, 105.85, 94.01, 158.36, 196.25, 166.92, 153.78, 130.81, 104.89, 117.02, 93.40, 112.86, 133.72, 104.37, 152.93, 111.24, 150.67, 134.98, 85.90, 134.22, 102.74, 161.83, 157.28, 187.29, 92.95, 0.00, 137.09, 113.12, 177.70, 191.50, 172.27, 190.92, 171.94, 135.71, 117.41, 113.73},
            {97.41, 163.00, 92.06, 177.41, 147.11, 187.17, 87.10, 98.63, 100.90, 155.61, 94.87, 179.35, 180.41, 128.53, 108.88, 112.48, 129.76, 140.48, 186.27, 176.41, 178.46, 141.00, 142.73, 175.67, 92.12, 139.25, 87.65, 182.18, 117.23, 166.31, 127.01, 137.09, 0.00, 173.72, 171.13, 99.86, 103.03, 171.99, 182.69, 177.45, 178.86, 113.20},
            {153.07, 151.22, 103.89, 189.17, 124.45, 127.96, 88.73, 187.09, 193.65, 180.54, 88.72, 149.02, 168.34, 150.26, 118.31, 93.58, 139.84, 115.50, 123.64, 187.81, 145.39, 189.25, 134.68, 114.49, 171.52, 177.87, 199.22, 198.19, 120.66, 133.97, 142.83, 113.12, 173.72, 0.00, 131.95, 149.87, 170.63, 128.62, 174.26, 87.99, 83.34, 113.37},
            {130.69, 122.27, 153.99, 128.67, 117.32, 159.92, 102.51, 121.11, 197.18, 174.98, 114.39, 105.05, 185.80, 80.34, 170.25, 183.15, 180.58, 126.55, 158.37, 178.50, 146.91, 96.16, 116.86, 189.75, 168.57, 124.14, 166.67, 174.35, 176.60, 194.18, 195.38, 177.70, 171.13, 131.95, 0.00, 175.88, 162.66, 146.72, 121.90, 139.23, 199.27, 111.64},
            {144.89, 182.46, 84.23, 185.85, 157.34, 86.79, 98.98, 88.37, 103.03, 143.64, 96.84, 164.50, 181.60, 80.31, 88.32, 165.09, 196.93, 138.99, 93.15, 149.29, 126.31, 147.34, 166.03, 109.07, 106.38, 198.51, 176.72, 164.16, 119.43, 120.77, 183.72, 191.50, 99.86, 149.87, 175.88, 0.00, 181.58, 88.26, 123.57, 119.74, 96.90, 114.09},
            {128.42, 81.27, 99.68, 148.49, 158.76, 180.68, 158.26, 84.67, 154.74, 130.39, 104.28, 127.37, 199.44, 183.93, 93.23, 147.68, 187.41, 113.29, 161.74, 151.30, 113.84, 125.34, 111.51, 154.38, 99.76, 164.35, 176.60, 97.39, 96.84, 139.68, 119.50, 172.27, 103.03, 170.63, 162.66, 181.58, 0.00, 176.64, 196.46, 141.04, 132.66, 103.37},
            {80.64, 135.49, 172.54, 177.68, 104.23, 94.59, 188.74, 105.93, 103.16, 165.38, 150.21, 119.50, 163.48, 135.82, 133.57, 184.33, 115.17, 108.24, 125.37, 195.68, 99.14, 170.35, 100.26, 128.62, 175.17, 157.14, 135.89, 114.93, 92.39, 170.11, 174.05, 190.92, 171.99, 128.62, 146.72, 88.26, 176.64, 0.00, 106.55, 170.26, 101.63, 178.81},
            {191.58, 182.93, 131.00, 177.49, 109.61, 149.15, 151.91, 87.05, 147.86, 92.22, 113.05, 152.54, 148.49, 193.60, 104.11, 172.74, 186.40, 128.12, 146.86, 178.58, 144.40, 180.38, 146.62, 185.37, 89.97, 135.31, 169.45, 133.62, 97.45, 91.01, 171.70, 171.94, 182.69, 174.26, 121.90, 123.57, 196.46, 106.55, 0.00, 123.58, 127.94, 182.81},
            {82.96, 167.45, 84.72, 145.53, 106.78, 166.62, 135.97, 179.02, 107.22, 148.12, 92.98, 179.09, 112.92, 164.42, 93.26, 140.25, 97.30, 113.34, 123.36, 134.88, 195.84, 103.34, 192.36, 169.58, 137.19, 174.51, 93.33, 87.11, 171.26, 199.50, 108.49, 135.71, 177.45, 87.99, 139.23, 119.74, 141.04, 170.26, 123.58, 0.00, 130.88, 160.40},
            {94.05, 174.72, 118.52, 133.49, 103.14, 177.39, 82.96, 109.77, 154.37, 139.74, 120.48, 126.16, 177.71, 144.72, 101.94, 197.43, 100.68, 159.39, 176.57, 117.02, 181.92, 164.49, 113.79, 126.02, 169.96, 137.27, 83.88, 107.48, 111.30, 103.31, 82.49, 117.41, 178.86, 83.34, 199.27, 96.90, 132.66, 101.63, 127.94, 130.88, 0.00, 171.49},
            {135.17, 97.79, 112.25, 117.64, 117.74, 170.79, 156.12, 144.83, 158.70, 142.17, 178.53, 162.46, 104.29, 142.65, 168.58, 193.34, 162.50, 83.06, 185.19, 165.01, 119.75, 103.00, 119.09, 157.15, 171.44, 186.60, 186.45, 162.02, 189.72, 186.39, 85.58, 113.73, 113.20, 113.37, 111.64, 114.09, 103.37, 178.81, 182.81, 160.40, 171.49, 0.00},
    };
    public static final double φp = 0.3;  //本例中都取0.2是会得到性质7疯狂降阶的情况，然后通过性质4直接得到了最优解
    public static final double φc = 0.3;
    public static double P;
    public static double C;

    public static void main(String[] args) {
        preHandle();
    }

    public static void preHandle() {
        DecimalFormat decimalFormat = new DecimalFormat("#.00");
        P = Arrays.stream(pi).reduce(0.0, Double::sum) * φp;
        C = Arrays.stream(ci).reduce(0.0, Double::sum) * φc;
        P = Double.parseDouble(decimalFormat.format(P));
        C = Double.parseDouble(decimalFormat.format(C));
        System.out.println("P = " + P);
        System.out.println("C = " + C);
        for (int i = 0; i < pi.length; i++) {
            V.add(new Facility(i + 1, ci[i], pi[i], pi[i] / ci[i]));
        }
    }
}
