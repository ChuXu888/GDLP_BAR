package com.chuxu.BackTrackingAlgorithmWithReduction.part01_preHandleData.RandomCase;

import com.chuxu.entity.Facility;

import java.text.DecimalFormat;
import java.util.Arrays;
import java.util.LinkedHashSet;

public class N35_2 {
    public static int dimension = 35;
    public static final double[] ci =
            {743.0, 457.0, 371.0, 1174.0, 248.0, 1179.0, 562.0, 254.0, 383.0, 849.0, 940.0, 787.0, 354.0, 1196.0, 300.0, 965.0, 575.0, 602.0, 990.0, 797.0, 585.0, 641.0, 882.0, 271.0, 765.0, 912.0, 577.0, 287.0, 630.0, 682.0, 629.0, 517.0, 790.0, 1083.0, 251.0};
    public static final double[] pi =
            {244.0, 1082.0, 237.0, 412.0, 663.0, 832.0, 547.0, 408.0, 1071.0, 951.0, 336.0, 820.0, 558.0, 1190.0, 993.0, 947.0, 241.0, 219.0, 899.0, 337.0, 511.0, 1177.0, 614.0, 956.0, 313.0, 233.0, 837.0, 215.0, 1147.0, 893.0, 724.0, 1122.0, 1169.0, 384.0, 440.0};
    public static final LinkedHashSet<Facility> V = new LinkedHashSet<>();
    public static double[][] disMatrix = {
            {0.00, 92.41, 139.60, 166.15, 129.17, 179.71, 91.50, 117.32, 173.23, 85.14, 170.00, 101.13, 82.81, 188.67, 153.53, 151.24, 109.04, 125.84, 149.51, 166.12, 122.46, 94.84, 187.65, 110.85, 93.83, 173.15, 118.39, 170.34, 83.83, 145.54, 85.30, 195.23, 85.04, 157.69, 160.00},
            {92.41, 0.00, 155.60, 135.22, 114.95, 190.51, 145.45, 121.09, 105.77, 81.03, 82.00, 95.22, 122.13, 191.40, 99.12, 95.79, 96.54, 118.67, 103.08, 110.29, 95.95, 81.22, 161.42, 199.03, 87.06, 147.52, 91.97, 172.47, 96.31, 196.95, 129.39, 119.33, 149.34, 169.44, 110.33},
            {139.60, 155.60, 0.00, 187.93, 130.66, 133.51, 115.95, 173.40, 133.75, 99.02, 181.83, 176.66, 175.15, 81.34, 90.69, 118.59, 82.74, 127.86, 161.79, 93.85, 179.68, 125.61, 103.88, 193.35, 109.42, 100.59, 164.77, 113.41, 105.93, 154.72, 110.57, 81.38, 164.91, 85.49, 121.88},
            {166.15, 135.22, 187.93, 0.00, 84.08, 197.69, 176.36, 141.44, 164.84, 148.96, 152.79, 189.36, 138.63, 152.72, 148.80, 157.13, 102.13, 127.81, 163.62, 160.34, 146.55, 95.22, 145.62, 152.84, 115.71, 93.65, 162.45, 141.37, 170.85, 158.35, 141.76, 149.72, 85.37, 169.93, 196.16},
            {129.17, 114.95, 130.66, 84.08, 0.00, 105.48, 159.27, 195.84, 178.78, 100.01, 92.53, 156.59, 92.64, 163.52, 130.41, 91.93, 137.47, 122.52, 90.89, 99.54, 121.76, 185.43, 105.39, 88.97, 175.60, 195.14, 129.10, 118.67, 131.94, 193.23, 145.26, 101.75, 158.89, 141.19, 180.65},
            {179.71, 190.51, 133.51, 197.69, 105.48, 0.00, 158.35, 185.09, 97.36, 164.88, 137.95, 163.19, 176.28, 106.74, 115.00, 102.88, 138.26, 183.54, 133.71, 195.67, 152.39, 187.38, 105.64, 167.48, 184.65, 142.94, 183.77, 193.26, 105.91, 166.28, 191.79, 89.55, 150.47, 132.85, 135.20},
            {91.50, 145.45, 115.95, 176.36, 159.27, 158.35, 0.00, 186.01, 186.35, 184.96, 102.94, 106.59, 102.05, 95.13, 184.12, 183.58, 112.43, 171.69, 133.72, 184.53, 97.35, 146.27, 184.45, 92.70, 132.32, 160.42, 99.09, 165.50, 188.80, 169.28, 88.04, 123.60, 94.65, 85.56, 101.72},
            {117.32, 121.09, 173.40, 141.44, 195.84, 185.09, 186.01, 0.00, 134.95, 91.70, 115.06, 125.34, 133.41, 107.11, 147.73, 175.78, 190.82, 89.69, 84.01, 85.89, 104.40, 169.27, 116.20, 101.33, 147.86, 99.16, 128.10, 87.71, 145.19, 156.46, 163.32, 113.61, 100.18, 84.17, 104.06},
            {173.23, 105.77, 133.75, 164.84, 178.78, 97.36, 186.35, 134.95, 0.00, 94.97, 112.74, 121.27, 96.51, 141.40, 154.70, 123.78, 178.05, 153.08, 183.18, 189.50, 123.26, 158.60, 198.85, 143.32, 92.30, 100.41, 129.42, 197.31, 194.53, 183.40, 115.09, 191.50, 134.22, 185.90, 133.52},
            {85.14, 81.03, 99.02, 148.96, 100.01, 164.88, 184.96, 91.70, 94.97, 0.00, 86.10, 162.19, 169.11, 165.61, 134.89, 178.45, 91.71, 111.79, 182.11, 135.74, 181.02, 99.80, 191.66, 162.19, 130.24, 80.55, 157.21, 93.99, 83.31, 127.83, 156.21, 104.56, 134.62, 160.56, 177.77},
            {170.00, 82.00, 181.83, 152.79, 92.53, 137.95, 102.94, 115.06, 112.74, 86.10, 0.00, 117.05, 150.43, 92.94, 116.41, 90.08, 111.95, 168.13, 98.21, 114.13, 87.06, 165.76, 95.18, 187.15, 158.54, 90.74, 146.06, 112.58, 90.88, 173.34, 158.16, 181.60, 166.28, 135.28, 95.14},
            {101.13, 95.22, 176.66, 189.36, 156.59, 163.19, 106.59, 125.34, 121.27, 162.19, 117.05, 0.00, 163.76, 182.34, 106.07, 159.13, 116.12, 119.43, 146.83, 193.68, 151.03, 175.79, 175.25, 124.95, 135.81, 131.00, 145.93, 184.00, 175.50, 175.99, 144.57, 151.71, 90.37, 118.06, 162.29},
            {82.81, 122.13, 175.15, 138.63, 92.64, 176.28, 102.05, 133.41, 96.51, 169.11, 150.43, 163.76, 0.00, 100.55, 184.89, 194.36, 88.11, 153.80, 93.56, 124.95, 93.00, 82.96, 181.01, 149.12, 198.18, 197.70, 150.09, 173.91, 103.12, 190.92, 91.33, 103.60, 175.66, 142.04, 110.72},
            {188.67, 191.40, 81.34, 152.72, 163.52, 106.74, 95.13, 107.11, 141.40, 165.61, 92.94, 182.34, 100.55, 0.00, 112.08, 196.63, 157.50, 100.16, 146.85, 86.09, 95.86, 165.84, 194.35, 135.76, 127.65, 104.77, 190.85, 154.21, 116.59, 198.06, 170.97, 196.62, 98.66, 112.06, 108.52},
            {153.53, 99.12, 90.69, 148.80, 130.41, 115.00, 184.12, 147.73, 154.70, 134.89, 116.41, 106.07, 184.89, 112.08, 0.00, 120.17, 119.65, 184.31, 199.46, 159.12, 129.26, 181.21, 186.73, 130.15, 161.22, 147.86, 89.78, 199.14, 174.07, 107.70, 98.49, 124.57, 86.03, 110.78, 142.17},
            {151.24, 95.79, 118.59, 157.13, 91.93, 102.88, 183.58, 175.78, 123.78, 178.45, 90.08, 159.13, 194.36, 196.63, 120.17, 0.00, 180.91, 110.11, 154.28, 148.65, 116.68, 81.81, 167.28, 146.71, 117.63, 192.12, 84.34, 177.24, 184.58, 112.15, 108.37, 103.99, 158.15, 163.43, 143.01},
            {109.04, 96.54, 82.74, 102.13, 137.47, 138.26, 112.43, 190.82, 178.05, 91.71, 111.95, 116.12, 88.11, 157.50, 119.65, 180.91, 0.00, 174.67, 109.71, 189.50, 98.42, 135.92, 167.91, 198.99, 101.68, 93.08, 184.63, 120.00, 93.91, 86.12, 81.87, 167.41, 191.25, 87.93, 183.10},
            {125.84, 118.67, 127.86, 127.81, 122.52, 183.54, 171.69, 89.69, 153.08, 111.79, 168.13, 119.43, 153.80, 100.16, 184.31, 110.11, 174.67, 0.00, 141.87, 165.07, 178.89, 197.54, 88.67, 99.62, 174.25, 115.59, 189.10, 190.62, 176.10, 126.08, 134.18, 158.92, 111.49, 182.94, 102.11},
            {149.51, 103.08, 161.79, 163.62, 90.89, 133.71, 133.72, 84.01, 183.18, 182.11, 98.21, 146.83, 93.56, 146.85, 199.46, 154.28, 109.71, 141.87, 0.00, 186.28, 141.27, 189.34, 106.00, 117.89, 121.52, 131.29, 137.13, 157.44, 189.86, 80.93, 161.83, 164.93, 193.65, 161.23, 196.07},
            {166.12, 110.29, 93.85, 160.34, 99.54, 195.67, 184.53, 85.89, 189.50, 135.74, 114.13, 193.68, 124.95, 86.09, 159.12, 148.65, 189.50, 165.07, 186.28, 0.00, 196.47, 115.22, 199.20, 142.60, 137.27, 81.24, 174.15, 188.47, 135.12, 169.27, 170.13, 169.32, 81.74, 83.77, 168.65},
            {122.46, 95.95, 179.68, 146.55, 121.76, 152.39, 97.35, 104.40, 123.26, 181.02, 87.06, 151.03, 93.00, 95.86, 129.26, 116.68, 98.42, 178.89, 141.27, 196.47, 0.00, 127.38, 132.48, 107.18, 148.08, 165.85, 82.59, 98.89, 190.18, 150.79, 129.03, 115.22, 192.48, 194.46, 181.81},
            {94.84, 81.22, 125.61, 95.22, 185.43, 187.38, 146.27, 169.27, 158.60, 99.80, 165.76, 175.79, 82.96, 165.84, 181.21, 81.81, 135.92, 197.54, 189.34, 115.22, 127.38, 0.00, 98.49, 186.62, 90.43, 87.16, 191.12, 128.19, 160.76, 167.48, 173.04, 153.07, 159.55, 88.66, 96.02},
            {187.65, 161.42, 103.88, 145.62, 105.39, 105.64, 184.45, 116.20, 198.85, 191.66, 95.18, 175.25, 181.01, 194.35, 186.73, 167.28, 167.91, 88.67, 106.00, 199.20, 132.48, 98.49, 0.00, 167.78, 114.77, 115.58, 118.50, 138.52, 161.46, 109.75, 107.29, 83.46, 124.87, 80.74, 129.87},
            {110.85, 199.03, 193.35, 152.84, 88.97, 167.48, 92.70, 101.33, 143.32, 162.19, 187.15, 124.95, 149.12, 135.76, 130.15, 146.71, 198.99, 99.62, 117.89, 142.60, 107.18, 186.62, 167.78, 0.00, 197.59, 170.54, 163.86, 191.45, 146.82, 171.33, 121.33, 115.75, 160.20, 147.47, 92.98},
            {93.83, 87.06, 109.42, 115.71, 175.60, 184.65, 132.32, 147.86, 92.30, 130.24, 158.54, 135.81, 198.18, 127.65, 161.22, 117.63, 101.68, 174.25, 121.52, 137.27, 148.08, 90.43, 114.77, 197.59, 0.00, 166.39, 124.17, 176.10, 194.53, 98.05, 82.15, 180.30, 117.76, 92.11, 85.64},
            {173.15, 147.52, 100.59, 93.65, 195.14, 142.94, 160.42, 99.16, 100.41, 80.55, 90.74, 131.00, 197.70, 104.77, 147.86, 192.12, 93.08, 115.59, 131.29, 81.24, 165.85, 87.16, 115.58, 170.54, 166.39, 0.00, 195.64, 86.64, 111.07, 109.65, 193.20, 166.92, 159.22, 95.83, 113.52},
            {118.39, 91.97, 164.77, 162.45, 129.10, 183.77, 99.09, 128.10, 129.42, 157.21, 146.06, 145.93, 150.09, 190.85, 89.78, 84.34, 184.63, 189.10, 137.13, 174.15, 82.59, 191.12, 118.50, 163.86, 124.17, 195.64, 0.00, 174.23, 84.18, 80.63, 154.55, 116.52, 94.36, 84.06, 119.40},
            {170.34, 172.47, 113.41, 141.37, 118.67, 193.26, 165.50, 87.71, 197.31, 93.99, 112.58, 184.00, 173.91, 154.21, 199.14, 177.24, 120.00, 190.62, 157.44, 188.47, 98.89, 128.19, 138.52, 191.45, 176.10, 86.64, 174.23, 0.00, 121.63, 102.34, 175.93, 166.04, 99.44, 171.86, 142.26},
            {83.83, 96.31, 105.93, 170.85, 131.94, 105.91, 188.80, 145.19, 194.53, 83.31, 90.88, 175.50, 103.12, 116.59, 174.07, 184.58, 93.91, 176.10, 189.86, 135.12, 190.18, 160.76, 161.46, 146.82, 194.53, 111.07, 84.18, 121.63, 0.00, 171.21, 90.02, 148.65, 123.34, 84.62, 195.63},
            {145.54, 196.95, 154.72, 158.35, 193.23, 166.28, 169.28, 156.46, 183.40, 127.83, 173.34, 175.99, 190.92, 198.06, 107.70, 112.15, 86.12, 126.08, 80.93, 169.27, 150.79, 167.48, 109.75, 171.33, 98.05, 109.65, 80.63, 102.34, 171.21, 0.00, 190.69, 88.30, 147.27, 183.92, 143.12},
            {85.30, 129.39, 110.57, 141.76, 145.26, 191.79, 88.04, 163.32, 115.09, 156.21, 158.16, 144.57, 91.33, 170.97, 98.49, 108.37, 81.87, 134.18, 161.83, 170.13, 129.03, 173.04, 107.29, 121.33, 82.15, 193.20, 154.55, 175.93, 90.02, 190.69, 0.00, 127.27, 158.90, 163.51, 126.21},
            {195.23, 119.33, 81.38, 149.72, 101.75, 89.55, 123.60, 113.61, 191.50, 104.56, 181.60, 151.71, 103.60, 196.62, 124.57, 103.99, 167.41, 158.92, 164.93, 169.32, 115.22, 153.07, 83.46, 115.75, 180.30, 166.92, 116.52, 166.04, 148.65, 88.30, 127.27, 0.00, 162.91, 144.93, 130.18},
            {85.04, 149.34, 164.91, 85.37, 158.89, 150.47, 94.65, 100.18, 134.22, 134.62, 166.28, 90.37, 175.66, 98.66, 86.03, 158.15, 191.25, 111.49, 193.65, 81.74, 192.48, 159.55, 124.87, 160.20, 117.76, 159.22, 94.36, 99.44, 123.34, 147.27, 158.90, 162.91, 0.00, 161.98, 127.32},
            {157.69, 169.44, 85.49, 169.93, 141.19, 132.85, 85.56, 84.17, 185.90, 160.56, 135.28, 118.06, 142.04, 112.06, 110.78, 163.43, 87.93, 182.94, 161.23, 83.77, 194.46, 88.66, 80.74, 147.47, 92.11, 95.83, 84.06, 171.86, 84.62, 183.92, 163.51, 144.93, 161.98, 0.00, 111.80},
            {160.00, 110.33, 121.88, 196.16, 180.65, 135.20, 101.72, 104.06, 133.52, 177.77, 95.14, 162.29, 110.72, 108.52, 142.17, 143.01, 183.10, 102.11, 196.07, 168.65, 181.81, 96.02, 129.87, 92.98, 85.64, 113.52, 119.40, 142.26, 195.63, 143.12, 126.21, 130.18, 127.32, 111.80, 0.00},
    };
    public static final double φp = 0.3;  //本例中都取0.2是会得到性质7疯狂降阶的情况，然后通过性质4直接得到了最优解
    public static final double φc = 0.3;
    public static double P;
    public static double C;

    public static void main(String[] args) {
        preHandle();
    }

    public static void preHandle() {
        DecimalFormat decimalFormat = new DecimalFormat("#.00");
        P = Arrays.stream(pi).reduce(0.0, Double::sum) * φp;
        C = Arrays.stream(ci).reduce(0.0, Double::sum) * φc;
        P = Double.parseDouble(decimalFormat.format(P));
        C = Double.parseDouble(decimalFormat.format(C));
        System.out.println("P = " + P);
        System.out.println("C = " + C);
        for (int i = 0; i < pi.length; i++) {
            V.add(new Facility(i + 1, ci[i], pi[i], pi[i] / ci[i]));
        }
    }
}
