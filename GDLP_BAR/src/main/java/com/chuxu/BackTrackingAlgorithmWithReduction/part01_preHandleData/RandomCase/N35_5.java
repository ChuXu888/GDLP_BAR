package com.chuxu.BackTrackingAlgorithmWithReduction.part01_preHandleData.RandomCase;

import com.chuxu.entity.Facility;

import java.text.DecimalFormat;
import java.util.Arrays;
import java.util.LinkedHashSet;

public class N35_5 {
    public static int dimension = 35;
    public static final double[] ci =
            {571.0, 457.0, 383.0, 486.0, 759.0, 474.0, 733.0, 411.0, 474.0, 765.0, 412.0, 547.0, 688.0, 410.0, 626.0, 754.0, 1095.0, 650.0, 739.0, 255.0, 531.0, 561.0, 353.0, 346.0, 568.0, 891.0, 323.0, 620.0, 318.0, 1008.0, 712.0, 571.0, 580.0, 785.0, 939.0};
    public static final double[] pi =
            {1106.0, 321.0, 557.0, 1025.0, 470.0, 409.0, 616.0, 251.0, 322.0, 297.0, 1010.0, 1112.0, 619.0, 750.0, 850.0, 362.0, 463.0, 402.0, 422.0, 783.0, 708.0, 358.0, 455.0, 240.0, 1151.0, 224.0, 457.0, 1156.0, 1178.0, 317.0, 431.0, 969.0, 1123.0, 704.0, 731.0};
    public static final LinkedHashSet<Facility> V = new LinkedHashSet<>();
    public static double[][] disMatrix = {
            {0.00, 140.38, 114.35, 135.10, 199.51, 90.89, 167.35, 108.08, 145.89, 169.57, 154.26, 99.44, 192.92, 124.10, 181.04, 124.65, 132.64, 88.79, 104.78, 158.31, 93.03, 147.60, 128.46, 132.89, 126.94, 98.41, 174.32, 122.31, 185.68, 141.80, 196.17, 156.15, 192.55, 131.26, 126.50},
            {140.38, 0.00, 136.30, 174.43, 189.75, 94.45, 187.09, 115.96, 198.41, 134.11, 103.35, 171.62, 178.72, 189.80, 87.75, 145.05, 158.16, 176.46, 129.52, 162.75, 171.89, 127.39, 171.22, 111.28, 89.69, 140.88, 118.44, 112.19, 127.00, 119.07, 129.09, 198.36, 83.37, 178.57, 155.17},
            {114.35, 136.30, 0.00, 148.16, 188.67, 142.32, 118.86, 170.58, 89.25, 175.49, 108.35, 175.02, 171.03, 125.65, 175.71, 143.47, 135.52, 108.62, 149.93, 90.71, 117.44, 145.85, 142.54, 130.06, 178.71, 88.17, 81.75, 137.41, 134.07, 172.69, 182.81, 185.47, 197.20, 116.03, 188.11},
            {135.10, 174.43, 148.16, 0.00, 103.36, 123.86, 126.39, 170.18, 122.91, 89.98, 101.17, 123.59, 83.86, 197.84, 83.43, 119.31, 84.11, 172.12, 102.24, 175.31, 139.23, 170.38, 136.14, 131.95, 156.96, 88.93, 197.99, 148.94, 178.00, 175.03, 161.51, 162.55, 143.57, 120.29, 135.88},
            {199.51, 189.75, 188.67, 103.36, 0.00, 157.52, 103.01, 147.84, 144.76, 177.68, 131.54, 117.04, 139.40, 182.44, 168.59, 154.78, 173.04, 113.36, 151.45, 101.12, 84.60, 105.74, 86.66, 89.91, 84.82, 144.65, 113.61, 111.01, 166.16, 143.01, 129.82, 181.19, 110.39, 131.59, 166.95},
            {90.89, 94.45, 142.32, 123.86, 157.52, 0.00, 144.51, 83.68, 195.99, 189.29, 170.53, 148.92, 135.86, 93.07, 120.28, 168.43, 154.22, 95.79, 104.76, 157.64, 92.18, 98.35, 169.94, 101.28, 84.86, 101.23, 184.40, 198.51, 108.86, 117.26, 162.63, 141.97, 119.98, 89.23, 146.76},
            {167.35, 187.09, 118.86, 126.39, 103.01, 144.51, 0.00, 157.85, 141.63, 169.59, 153.43, 100.51, 120.47, 192.42, 130.28, 144.52, 94.93, 144.77, 117.67, 190.96, 185.81, 124.47, 196.62, 81.93, 114.98, 176.17, 122.59, 138.13, 108.97, 84.90, 157.43, 159.58, 148.79, 158.36, 198.30},
            {108.08, 115.96, 170.58, 170.18, 147.84, 83.68, 157.85, 0.00, 137.66, 105.53, 124.52, 182.31, 119.32, 153.26, 110.25, 159.55, 100.00, 136.44, 169.59, 174.90, 182.08, 88.78, 117.19, 140.19, 118.67, 93.39, 172.51, 133.61, 90.35, 181.34, 174.89, 111.93, 93.28, 146.28, 127.26},
            {145.89, 198.41, 89.25, 122.91, 144.76, 195.99, 141.63, 137.66, 0.00, 143.85, 91.89, 167.50, 168.20, 169.17, 187.96, 101.74, 197.24, 118.42, 160.32, 106.38, 127.64, 151.67, 115.29, 132.12, 153.75, 152.78, 137.78, 92.91, 96.76, 86.61, 186.67, 104.09, 112.98, 111.98, 155.34},
            {169.57, 134.11, 175.49, 89.98, 177.68, 189.29, 169.59, 105.53, 143.85, 0.00, 196.60, 173.21, 81.98, 139.14, 166.08, 149.37, 95.82, 116.58, 179.91, 116.51, 132.81, 179.52, 123.71, 113.55, 99.15, 179.78, 140.64, 105.49, 92.13, 196.03, 82.63, 172.55, 93.89, 124.13, 132.37},
            {154.26, 103.35, 108.35, 101.17, 131.54, 170.53, 153.43, 124.52, 91.89, 196.60, 0.00, 178.42, 88.28, 198.04, 187.67, 100.51, 109.54, 195.59, 87.30, 118.69, 140.27, 154.35, 197.85, 177.66, 158.89, 177.77, 195.66, 139.10, 153.05, 190.46, 146.29, 105.65, 125.68, 183.22, 125.84},
            {99.44, 171.62, 175.02, 123.59, 117.04, 148.92, 100.51, 182.31, 167.50, 173.21, 178.42, 0.00, 107.72, 184.19, 95.38, 124.17, 177.14, 120.85, 90.78, 179.63, 128.25, 183.93, 118.31, 138.19, 87.67, 164.18, 104.30, 186.63, 157.85, 120.08, 145.82, 180.55, 167.75, 118.02, 138.32},
            {192.92, 178.72, 171.03, 83.86, 139.40, 135.86, 120.47, 119.32, 168.20, 81.98, 88.28, 107.72, 0.00, 132.07, 95.45, 109.74, 139.82, 80.69, 123.09, 109.78, 86.04, 182.39, 123.49, 89.26, 186.98, 178.19, 121.09, 149.98, 175.23, 82.61, 156.05, 144.50, 99.92, 165.74, 91.34},
            {124.10, 189.80, 125.65, 197.84, 182.44, 93.07, 192.42, 153.26, 169.17, 139.14, 198.04, 184.19, 132.07, 0.00, 82.46, 167.36, 89.83, 156.30, 132.80, 100.70, 81.69, 98.34, 193.66, 145.54, 117.09, 116.35, 138.60, 187.08, 141.26, 114.16, 197.44, 146.72, 151.74, 82.38, 94.25},
            {181.04, 87.75, 175.71, 83.43, 168.59, 120.28, 130.28, 110.25, 187.96, 166.08, 187.67, 95.38, 95.45, 82.46, 0.00, 131.99, 85.61, 189.22, 102.38, 123.59, 122.50, 157.98, 167.93, 176.75, 198.05, 129.08, 138.17, 191.66, 179.63, 88.83, 190.19, 108.39, 166.60, 95.12, 187.81},
            {124.65, 145.05, 143.47, 119.31, 154.78, 168.43, 144.52, 159.55, 101.74, 149.37, 100.51, 124.17, 109.74, 167.36, 131.99, 0.00, 186.99, 102.19, 101.50, 140.99, 81.63, 162.07, 97.25, 162.35, 110.09, 176.76, 139.45, 148.87, 96.03, 130.94, 96.50, 144.95, 181.28, 161.77, 189.20},
            {132.64, 158.16, 135.52, 84.11, 173.04, 154.22, 94.93, 100.00, 197.24, 95.82, 109.54, 177.14, 139.82, 89.83, 85.61, 186.99, 0.00, 163.97, 108.59, 172.22, 185.45, 120.83, 103.28, 181.69, 99.59, 96.72, 152.48, 97.55, 104.54, 100.04, 156.19, 105.31, 87.14, 163.76, 102.30},
            {88.79, 176.46, 108.62, 172.12, 113.36, 95.79, 144.77, 136.44, 118.42, 116.58, 195.59, 120.85, 80.69, 156.30, 189.22, 102.19, 163.97, 0.00, 143.64, 142.24, 149.54, 180.56, 112.26, 150.41, 132.92, 196.21, 156.50, 96.90, 121.47, 93.82, 142.08, 126.43, 148.99, 95.64, 116.39},
            {104.78, 129.52, 149.93, 102.24, 151.45, 104.76, 117.67, 169.59, 160.32, 179.91, 87.30, 90.78, 123.09, 132.80, 102.38, 101.50, 108.59, 143.64, 0.00, 88.45, 94.32, 95.77, 150.04, 112.13, 91.86, 172.83, 102.96, 197.79, 173.60, 188.35, 123.79, 163.66, 88.99, 106.78, 109.64},
            {158.31, 162.75, 90.71, 175.31, 101.12, 157.64, 190.96, 174.90, 106.38, 116.51, 118.69, 179.63, 109.78, 100.70, 123.59, 140.99, 172.22, 142.24, 88.45, 0.00, 141.82, 128.85, 105.38, 165.31, 136.70, 153.62, 98.08, 146.61, 102.24, 93.64, 177.57, 132.19, 80.63, 190.75, 83.00},
            {93.03, 171.89, 117.44, 139.23, 84.60, 92.18, 185.81, 182.08, 127.64, 132.81, 140.27, 128.25, 86.04, 81.69, 122.50, 81.63, 185.45, 149.54, 94.32, 141.82, 0.00, 141.39, 135.85, 105.37, 88.38, 162.45, 189.56, 82.38, 157.47, 136.56, 184.57, 131.42, 186.12, 197.29, 183.22},
            {147.60, 127.39, 145.85, 170.38, 105.74, 98.35, 124.47, 88.78, 151.67, 179.52, 154.35, 183.93, 182.39, 98.34, 157.98, 162.07, 120.83, 180.56, 95.77, 128.85, 141.39, 0.00, 193.83, 171.20, 113.52, 92.91, 98.54, 87.85, 125.78, 180.64, 152.86, 82.67, 121.72, 151.09, 192.15},
            {128.46, 171.22, 142.54, 136.14, 86.66, 169.94, 196.62, 117.19, 115.29, 123.71, 197.85, 118.31, 123.49, 193.66, 167.93, 97.25, 103.28, 112.26, 150.04, 105.38, 135.85, 193.83, 0.00, 140.43, 165.90, 119.57, 143.26, 175.18, 102.46, 191.55, 162.15, 174.29, 165.94, 84.66, 104.66},
            {132.89, 111.28, 130.06, 131.95, 89.91, 101.28, 81.93, 140.19, 132.12, 113.55, 177.66, 138.19, 89.26, 145.54, 176.75, 162.35, 181.69, 150.41, 112.13, 165.31, 105.37, 171.20, 140.43, 0.00, 144.65, 146.59, 97.02, 122.18, 95.36, 140.74, 97.37, 180.34, 179.56, 155.21, 168.00},
            {126.94, 89.69, 178.71, 156.96, 84.82, 84.86, 114.98, 118.67, 153.75, 99.15, 158.89, 87.67, 186.98, 117.09, 198.05, 110.09, 99.59, 132.92, 91.86, 136.70, 88.38, 113.52, 165.90, 144.65, 0.00, 198.84, 170.60, 186.69, 110.52, 144.59, 103.46, 182.63, 187.62, 137.70, 92.61},
            {98.41, 140.88, 88.17, 88.93, 144.65, 101.23, 176.17, 93.39, 152.78, 179.78, 177.77, 164.18, 178.19, 116.35, 129.08, 176.76, 96.72, 196.21, 172.83, 153.62, 162.45, 92.91, 119.57, 146.59, 198.84, 0.00, 109.98, 140.47, 131.53, 120.54, 130.91, 131.94, 122.81, 138.86, 92.16},
            {174.32, 118.44, 81.75, 197.99, 113.61, 184.40, 122.59, 172.51, 137.78, 140.64, 195.66, 104.30, 121.09, 138.60, 138.17, 139.45, 152.48, 156.50, 102.96, 98.08, 189.56, 98.54, 143.26, 97.02, 170.60, 109.98, 0.00, 140.00, 96.99, 134.82, 134.98, 103.56, 136.40, 90.84, 147.25},
            {122.31, 112.19, 137.41, 148.94, 111.01, 198.51, 138.13, 133.61, 92.91, 105.49, 139.10, 186.63, 149.98, 187.08, 191.66, 148.87, 97.55, 96.90, 197.79, 146.61, 82.38, 87.85, 175.18, 122.18, 186.69, 140.47, 140.00, 0.00, 84.65, 155.21, 163.25, 127.81, 96.49, 135.47, 128.79},
            {185.68, 127.00, 134.07, 178.00, 166.16, 108.86, 108.97, 90.35, 96.76, 92.13, 153.05, 157.85, 175.23, 141.26, 179.63, 96.03, 104.54, 121.47, 173.60, 102.24, 157.47, 125.78, 102.46, 95.36, 110.52, 131.53, 96.99, 84.65, 0.00, 114.66, 175.70, 122.03, 193.36, 104.69, 110.47},
            {141.80, 119.07, 172.69, 175.03, 143.01, 117.26, 84.90, 181.34, 86.61, 196.03, 190.46, 120.08, 82.61, 114.16, 88.83, 130.94, 100.04, 93.82, 188.35, 93.64, 136.56, 180.64, 191.55, 140.74, 144.59, 120.54, 134.82, 155.21, 114.66, 0.00, 112.11, 147.41, 162.11, 132.62, 106.43},
            {196.17, 129.09, 182.81, 161.51, 129.82, 162.63, 157.43, 174.89, 186.67, 82.63, 146.29, 145.82, 156.05, 197.44, 190.19, 96.50, 156.19, 142.08, 123.79, 177.57, 184.57, 152.86, 162.15, 97.37, 103.46, 130.91, 134.98, 163.25, 175.70, 112.11, 0.00, 145.87, 115.79, 82.33, 94.06},
            {156.15, 198.36, 185.47, 162.55, 181.19, 141.97, 159.58, 111.93, 104.09, 172.55, 105.65, 180.55, 144.50, 146.72, 108.39, 144.95, 105.31, 126.43, 163.66, 132.19, 131.42, 82.67, 174.29, 180.34, 182.63, 131.94, 103.56, 127.81, 122.03, 147.41, 145.87, 0.00, 87.89, 122.82, 178.07},
            {192.55, 83.37, 197.20, 143.57, 110.39, 119.98, 148.79, 93.28, 112.98, 93.89, 125.68, 167.75, 99.92, 151.74, 166.60, 181.28, 87.14, 148.99, 88.99, 80.63, 186.12, 121.72, 165.94, 179.56, 187.62, 122.81, 136.40, 96.49, 193.36, 162.11, 115.79, 87.89, 0.00, 181.90, 152.62},
            {131.26, 178.57, 116.03, 120.29, 131.59, 89.23, 158.36, 146.28, 111.98, 124.13, 183.22, 118.02, 165.74, 82.38, 95.12, 161.77, 163.76, 95.64, 106.78, 190.75, 197.29, 151.09, 84.66, 155.21, 137.70, 138.86, 90.84, 135.47, 104.69, 132.62, 82.33, 122.82, 181.90, 0.00, 126.48},
            {126.50, 155.17, 188.11, 135.88, 166.95, 146.76, 198.30, 127.26, 155.34, 132.37, 125.84, 138.32, 91.34, 94.25, 187.81, 189.20, 102.30, 116.39, 109.64, 83.00, 183.22, 192.15, 104.66, 168.00, 92.61, 92.16, 147.25, 128.79, 110.47, 106.43, 94.06, 178.07, 152.62, 126.48, 0.00},
    };
    public static final double φp = 0.3;  //本例中都取0.2是会得到性质7疯狂降阶的情况，然后通过性质4直接得到了最优解
    public static final double φc = 0.3;
    public static double P;
    public static double C;

    public static void main(String[] args) {
        preHandle();
    }

    public static void preHandle() {
        DecimalFormat decimalFormat = new DecimalFormat("#.00");
        P = Arrays.stream(pi).reduce(0.0, Double::sum) * φp;
        C = Arrays.stream(ci).reduce(0.0, Double::sum) * φc;
        P = Double.parseDouble(decimalFormat.format(P));
        C = Double.parseDouble(decimalFormat.format(C));
        System.out.println("P = " + P);
        System.out.println("C = " + C);
        for (int i = 0; i < pi.length; i++) {
            V.add(new Facility(i + 1, ci[i], pi[i], pi[i] / ci[i]));
        }
    }
}
