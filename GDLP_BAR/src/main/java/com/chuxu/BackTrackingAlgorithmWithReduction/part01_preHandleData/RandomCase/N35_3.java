package com.chuxu.BackTrackingAlgorithmWithReduction.part01_preHandleData.RandomCase;

import com.chuxu.entity.Facility;

import java.text.DecimalFormat;
import java.util.Arrays;
import java.util.LinkedHashSet;

public class N35_3 {
    public static int dimension = 35;
    public static final double[] ci =
            {725.0, 641.0, 448.0, 738.0, 640.0, 1062.0, 906.0, 764.0, 1108.0, 1037.0, 583.0, 405.0, 330.0, 1052.0, 223.0, 838.0, 660.0, 683.0, 896.0, 731.0, 863.0, 338.0, 1012.0, 412.0, 1010.0, 253.0, 416.0, 967.0, 1103.0, 849.0, 937.0, 225.0, 799.0, 1158.0, 1158.0};
    public static final double[] pi =
            {889.0, 422.0, 226.0, 1173.0, 1039.0, 627.0, 258.0, 741.0, 347.0, 628.0, 710.0, 992.0, 775.0, 257.0, 522.0, 217.0, 215.0, 958.0, 746.0, 1051.0, 1097.0, 646.0, 758.0, 508.0, 964.0, 385.0, 439.0, 244.0, 1116.0, 630.0, 1175.0, 771.0, 492.0, 745.0, 581.0};
    public static final LinkedHashSet<Facility> V = new LinkedHashSet<>();
    public static double[][] disMatrix = {
            {0.00, 152.56, 189.95, 151.93, 163.16, 187.47, 122.78, 142.75, 105.37, 172.24, 168.27, 153.54, 163.24, 149.16, 96.47, 94.16, 149.74, 162.53, 191.33, 163.87, 180.02, 160.53, 161.54, 146.58, 142.15, 104.54, 184.03, 119.37, 193.05, 107.74, 129.36, 172.27, 142.00, 95.57, 80.82},
            {152.56, 0.00, 99.37, 173.28, 163.87, 84.72, 176.72, 172.91, 148.73, 179.54, 132.49, 120.32, 112.87, 184.77, 117.78, 147.09, 139.10, 168.01, 183.34, 108.40, 119.65, 109.58, 98.69, 181.15, 103.27, 168.80, 114.02, 94.14, 168.17, 84.92, 144.05, 111.44, 168.87, 97.50, 164.52},
            {189.95, 99.37, 0.00, 108.86, 99.19, 147.55, 118.16, 166.73, 140.93, 140.23, 126.20, 168.62, 169.35, 113.67, 134.78, 106.26, 121.64, 145.61, 92.72, 104.86, 163.34, 100.82, 157.68, 161.22, 90.41, 196.76, 182.44, 148.59, 160.97, 163.89, 161.02, 187.47, 120.79, 98.88, 136.64},
            {151.93, 173.28, 108.86, 0.00, 131.19, 90.66, 155.55, 88.96, 187.53, 181.04, 107.65, 87.80, 114.66, 151.24, 111.61, 83.61, 109.93, 175.04, 94.24, 102.02, 134.39, 133.74, 171.89, 160.54, 103.64, 190.34, 132.03, 89.94, 127.42, 144.75, 156.85, 101.14, 155.82, 109.96, 120.89},
            {163.16, 163.87, 99.19, 131.19, 0.00, 150.34, 189.04, 103.37, 150.68, 120.98, 110.64, 174.66, 174.15, 120.53, 130.88, 93.11, 111.17, 143.38, 137.26, 152.56, 163.95, 137.99, 103.31, 80.75, 156.86, 97.51, 184.94, 82.64, 90.37, 87.15, 115.15, 183.68, 91.99, 90.12, 113.16},
            {187.47, 84.72, 147.55, 90.66, 150.34, 0.00, 188.87, 89.76, 155.88, 153.75, 177.61, 119.61, 170.16, 174.78, 111.82, 127.84, 195.63, 118.27, 86.17, 163.53, 155.57, 120.27, 154.35, 172.95, 169.56, 129.27, 124.35, 169.22, 141.32, 140.81, 188.08, 114.95, 162.91, 127.39, 97.26},
            {122.78, 176.72, 118.16, 155.55, 189.04, 188.87, 0.00, 184.59, 178.13, 178.45, 177.46, 165.23, 139.73, 104.35, 186.13, 130.66, 160.80, 161.05, 188.08, 103.39, 140.28, 178.99, 163.15, 162.96, 155.70, 150.20, 176.01, 85.85, 83.29, 121.47, 106.91, 153.87, 106.35, 139.94, 124.74},
            {142.75, 172.91, 166.73, 88.96, 103.37, 89.76, 184.59, 0.00, 122.09, 167.22, 118.50, 80.14, 96.56, 166.46, 114.31, 166.64, 153.83, 134.88, 162.71, 101.49, 140.80, 179.66, 161.70, 115.55, 182.72, 135.54, 158.98, 93.08, 81.34, 95.03, 113.88, 147.15, 161.90, 188.76, 110.70},
            {105.37, 148.73, 140.93, 187.53, 150.68, 155.88, 178.13, 122.09, 0.00, 115.49, 189.11, 137.80, 127.87, 194.02, 117.01, 84.16, 139.15, 151.92, 145.87, 184.23, 178.39, 91.87, 152.10, 141.35, 118.61, 173.32, 192.67, 100.16, 179.05, 143.94, 145.76, 164.25, 180.55, 166.08, 112.65},
            {172.24, 179.54, 140.23, 181.04, 120.98, 153.75, 178.45, 167.22, 115.49, 0.00, 192.20, 80.12, 119.96, 173.22, 194.04, 129.52, 194.12, 98.66, 110.87, 160.91, 136.71, 199.56, 94.85, 163.98, 116.95, 146.12, 95.04, 84.72, 176.69, 139.82, 196.61, 164.89, 175.65, 161.55, 196.61},
            {168.27, 132.49, 126.20, 107.65, 110.64, 177.61, 177.46, 118.50, 189.11, 192.20, 0.00, 114.35, 191.63, 91.22, 89.00, 125.07, 88.20, 127.43, 114.92, 116.03, 127.72, 93.08, 131.06, 122.33, 86.15, 173.62, 139.97, 169.95, 199.07, 119.95, 190.32, 189.21, 154.17, 195.93, 133.65},
            {153.54, 120.32, 168.62, 87.80, 174.66, 119.61, 165.23, 80.14, 137.80, 80.12, 114.35, 0.00, 155.10, 86.28, 83.29, 115.96, 102.54, 124.21, 132.36, 108.29, 146.62, 86.73, 127.26, 120.03, 105.52, 186.18, 117.32, 111.69, 133.44, 193.40, 94.11, 111.13, 125.49, 86.54, 124.47},
            {163.24, 112.87, 169.35, 114.66, 174.15, 170.16, 139.73, 96.56, 127.87, 119.96, 191.63, 155.10, 0.00, 157.87, 114.39, 188.82, 184.52, 174.50, 120.23, 116.84, 178.55, 132.69, 100.47, 151.03, 188.53, 103.01, 135.84, 183.74, 86.65, 113.73, 181.55, 198.14, 92.33, 113.17, 129.13},
            {149.16, 184.77, 113.67, 151.24, 120.53, 174.78, 104.35, 166.46, 194.02, 173.22, 91.22, 86.28, 157.87, 0.00, 122.29, 189.49, 133.43, 125.22, 128.20, 96.55, 110.29, 117.49, 124.12, 103.07, 124.86, 165.92, 121.25, 151.48, 177.10, 169.27, 182.43, 131.23, 99.30, 112.23, 100.09},
            {96.47, 117.78, 134.78, 111.61, 130.88, 111.82, 186.13, 114.31, 117.01, 194.04, 89.00, 83.29, 114.39, 122.29, 0.00, 104.57, 190.11, 137.48, 125.29, 99.58, 154.83, 170.35, 176.55, 145.82, 97.77, 149.98, 159.12, 111.19, 185.18, 191.67, 80.10, 186.50, 144.75, 139.00, 193.96},
            {94.16, 147.09, 106.26, 83.61, 93.11, 127.84, 130.66, 166.64, 84.16, 129.52, 125.07, 115.96, 188.82, 189.49, 104.57, 0.00, 194.65, 148.00, 82.47, 175.28, 196.62, 116.58, 82.96, 92.36, 164.84, 101.84, 183.68, 104.91, 196.63, 188.73, 143.66, 133.51, 86.95, 91.07, 98.63},
            {149.74, 139.10, 121.64, 109.93, 111.17, 195.63, 160.80, 153.83, 139.15, 194.12, 88.20, 102.54, 184.52, 133.43, 190.11, 194.65, 0.00, 125.59, 188.86, 114.62, 151.68, 174.39, 84.23, 107.78, 116.91, 152.42, 104.15, 116.39, 83.02, 99.64, 179.80, 150.22, 172.05, 199.47, 109.09},
            {162.53, 168.01, 145.61, 175.04, 143.38, 118.27, 161.05, 134.88, 151.92, 98.66, 127.43, 124.21, 174.50, 125.22, 137.48, 148.00, 125.59, 0.00, 153.06, 199.98, 101.84, 173.23, 186.56, 181.32, 172.80, 89.43, 149.96, 159.22, 83.97, 182.15, 103.64, 125.25, 122.78, 155.06, 83.90},
            {191.33, 183.34, 92.72, 94.24, 137.26, 86.17, 188.08, 162.71, 145.87, 110.87, 114.92, 132.36, 120.23, 128.20, 125.29, 82.47, 188.86, 153.06, 0.00, 139.90, 145.76, 109.44, 109.56, 175.18, 172.36, 82.03, 168.10, 114.99, 185.57, 166.46, 169.55, 126.60, 88.10, 197.11, 91.25},
            {163.87, 108.40, 104.86, 102.02, 152.56, 163.53, 103.39, 101.49, 184.23, 160.91, 116.03, 108.29, 116.84, 96.55, 99.58, 175.28, 114.62, 199.98, 139.90, 0.00, 138.67, 159.67, 172.84, 84.27, 186.27, 170.51, 120.38, 134.87, 112.73, 170.49, 183.17, 169.70, 151.19, 130.67, 91.21},
            {180.02, 119.65, 163.34, 134.39, 163.95, 155.57, 140.28, 140.80, 178.39, 136.71, 127.72, 146.62, 178.55, 110.29, 154.83, 196.62, 151.68, 101.84, 145.76, 138.67, 0.00, 183.08, 165.03, 185.60, 101.19, 127.99, 167.30, 89.59, 153.24, 109.24, 162.92, 179.26, 171.93, 88.30, 165.86},
            {160.53, 109.58, 100.82, 133.74, 137.99, 120.27, 178.99, 179.66, 91.87, 199.56, 93.08, 86.73, 132.69, 117.49, 170.35, 116.58, 174.39, 173.23, 109.44, 159.67, 183.08, 0.00, 187.23, 183.75, 133.39, 154.65, 198.03, 192.11, 147.03, 145.59, 117.75, 182.84, 134.99, 81.67, 122.37},
            {161.54, 98.69, 157.68, 171.89, 103.31, 154.35, 163.15, 161.70, 152.10, 94.85, 131.06, 127.26, 100.47, 124.12, 176.55, 82.96, 84.23, 186.56, 109.56, 172.84, 165.03, 187.23, 0.00, 109.58, 166.49, 138.44, 177.85, 148.06, 174.90, 134.83, 125.86, 151.89, 181.38, 166.95, 164.75},
            {146.58, 181.15, 161.22, 160.54, 80.75, 172.95, 162.96, 115.55, 141.35, 163.98, 122.33, 120.03, 151.03, 103.07, 145.82, 92.36, 107.78, 181.32, 175.18, 84.27, 185.60, 183.75, 109.58, 0.00, 89.73, 191.11, 157.51, 103.68, 94.82, 112.20, 171.26, 170.74, 172.63, 102.17, 128.43},
            {142.15, 103.27, 90.41, 103.64, 156.86, 169.56, 155.70, 182.72, 118.61, 116.95, 86.15, 105.52, 188.53, 124.86, 97.77, 164.84, 116.91, 172.80, 172.36, 186.27, 101.19, 133.39, 166.49, 89.73, 0.00, 92.30, 191.03, 154.83, 153.70, 150.75, 159.38, 142.71, 187.45, 131.80, 189.56},
            {104.54, 168.80, 196.76, 190.34, 97.51, 129.27, 150.20, 135.54, 173.32, 146.12, 173.62, 186.18, 103.01, 165.92, 149.98, 101.84, 152.42, 89.43, 82.03, 170.51, 127.99, 154.65, 138.44, 191.11, 92.30, 0.00, 125.54, 98.84, 90.00, 121.06, 85.23, 136.98, 92.79, 106.46, 150.58},
            {184.03, 114.02, 182.44, 132.03, 184.94, 124.35, 176.01, 158.98, 192.67, 95.04, 139.97, 117.32, 135.84, 121.25, 159.12, 183.68, 104.15, 149.96, 168.10, 120.38, 167.30, 198.03, 177.85, 157.51, 191.03, 125.54, 0.00, 97.08, 108.06, 90.49, 112.33, 182.21, 139.51, 197.08, 199.62},
            {119.37, 94.14, 148.59, 89.94, 82.64, 169.22, 85.85, 93.08, 100.16, 84.72, 169.95, 111.69, 183.74, 151.48, 111.19, 104.91, 116.39, 159.22, 114.99, 134.87, 89.59, 192.11, 148.06, 103.68, 154.83, 98.84, 97.08, 0.00, 169.78, 106.39, 83.70, 133.64, 143.04, 130.85, 130.56},
            {193.05, 168.17, 160.97, 127.42, 90.37, 141.32, 83.29, 81.34, 179.05, 176.69, 199.07, 133.44, 86.65, 177.10, 185.18, 196.63, 83.02, 83.97, 185.57, 112.73, 153.24, 147.03, 174.90, 94.82, 153.70, 90.00, 108.06, 169.78, 0.00, 192.28, 163.69, 155.85, 144.99, 131.74, 160.64},
            {107.74, 84.92, 163.89, 144.75, 87.15, 140.81, 121.47, 95.03, 143.94, 139.82, 119.95, 193.40, 113.73, 169.27, 191.67, 188.73, 99.64, 182.15, 166.46, 170.49, 109.24, 145.59, 134.83, 112.20, 150.75, 121.06, 90.49, 106.39, 192.28, 0.00, 131.06, 156.84, 156.85, 112.94, 91.00},
            {129.36, 144.05, 161.02, 156.85, 115.15, 188.08, 106.91, 113.88, 145.76, 196.61, 190.32, 94.11, 181.55, 182.43, 80.10, 143.66, 179.80, 103.64, 169.55, 183.17, 162.92, 117.75, 125.86, 171.26, 159.38, 85.23, 112.33, 83.70, 163.69, 131.06, 0.00, 101.08, 191.06, 191.74, 151.84},
            {172.27, 111.44, 187.47, 101.14, 183.68, 114.95, 153.87, 147.15, 164.25, 164.89, 189.21, 111.13, 198.14, 131.23, 186.50, 133.51, 150.22, 125.25, 126.60, 169.70, 179.26, 182.84, 151.89, 170.74, 142.71, 136.98, 182.21, 133.64, 155.85, 156.84, 101.08, 0.00, 126.82, 190.61, 176.29},
            {142.00, 168.87, 120.79, 155.82, 91.99, 162.91, 106.35, 161.90, 180.55, 175.65, 154.17, 125.49, 92.33, 99.30, 144.75, 86.95, 172.05, 122.78, 88.10, 151.19, 171.93, 134.99, 181.38, 172.63, 187.45, 92.79, 139.51, 143.04, 144.99, 156.85, 191.06, 126.82, 0.00, 167.85, 179.82},
            {95.57, 97.50, 98.88, 109.96, 90.12, 127.39, 139.94, 188.76, 166.08, 161.55, 195.93, 86.54, 113.17, 112.23, 139.00, 91.07, 199.47, 155.06, 197.11, 130.67, 88.30, 81.67, 166.95, 102.17, 131.80, 106.46, 197.08, 130.85, 131.74, 112.94, 191.74, 190.61, 167.85, 0.00, 94.27},
            {80.82, 164.52, 136.64, 120.89, 113.16, 97.26, 124.74, 110.70, 112.65, 196.61, 133.65, 124.47, 129.13, 100.09, 193.96, 98.63, 109.09, 83.90, 91.25, 91.21, 165.86, 122.37, 164.75, 128.43, 189.56, 150.58, 199.62, 130.56, 160.64, 91.00, 151.84, 176.29, 179.82, 94.27, 0.00},
    };
    public static final double φp = 0.3;  //本例中都取0.2是会得到性质7疯狂降阶的情况，然后通过性质4直接得到了最优解
    public static final double φc = 0.3;
    public static double P;
    public static double C;

    public static void main(String[] args) {
        preHandle();
    }

    public static void preHandle() {
        DecimalFormat decimalFormat = new DecimalFormat("#.00");
        P = Arrays.stream(pi).reduce(0.0, Double::sum) * φp;
        C = Arrays.stream(ci).reduce(0.0, Double::sum) * φc;
        P = Double.parseDouble(decimalFormat.format(P));
        C = Double.parseDouble(decimalFormat.format(C));
        System.out.println("P = " + P);
        System.out.println("C = " + C);
        for (int i = 0; i < pi.length; i++) {
            V.add(new Facility(i + 1, ci[i], pi[i], pi[i] / ci[i]));
        }
    }
}
